(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3453],{5978:function(e,l,s){Promise.resolve().then(s.bind(s,1536))},3639:function(e,l,s){"use strict";s.d(l,{Z:function(){return t}});let t=(0,s(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7920:function(e,l,s){"use strict";s.d(l,{Z:function(){return t}});let t=(0,s(9763).Z)("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]])},166:function(e,l,s){"use strict";s.d(l,{default:function(){return a.a}});var t=s(5775),a=s.n(t)},5775:function(e,l,s){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return i}});let t=s(7043);s(7437),s(2265);let a=t._(s(5602));function i(e,l){var s;let t={loading:e=>{let{error:l,isLoading:s,pastDelay:t}=e;return null}};"function"==typeof e&&(t.loader=e);let i={...t,...l};return(0,a.default)({...i,modules:null==(s=i.loadableGenerated)?void 0:s.modules})}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),e.exports=l.default)},1523:function(e,l,s){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let t=s(8993);function a(e){let{reason:l,children:s}=e;if("undefined"==typeof window)throw new t.BailoutToCSRError(l);return s}},5602:function(e,l,s){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return d}});let t=s(7437),a=s(2265),i=s(1523),r=s(49);function o(e){return{default:e&&"default"in e?e.default:e}}let n={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},d=function(e){let l={...n,...e},s=(0,a.lazy)(()=>l.loader().then(o)),d=l.loading;function c(e){let o=d?(0,t.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,n=l.ssr?(0,t.jsxs)(t.Fragment,{children:["undefined"==typeof window?(0,t.jsx)(r.PreloadCss,{moduleIds:l.modules}):null,(0,t.jsx)(s,{...e})]}):(0,t.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,t.jsx)(s,{...e})});return(0,t.jsx)(a.Suspense,{fallback:o,children:n})}return c.displayName="LoadableComponent",c}},49:function(e,l,s){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"PreloadCss",{enumerable:!0,get:function(){return i}});let t=s(7437),a=s(544);function i(e){let{moduleIds:l}=e;if("undefined"!=typeof window)return null;let s=(0,a.getExpectedRequestStore)("next/dynamic css"),i=[];if(s.reactLoadableManifest&&l){let e=s.reactLoadableManifest;for(let s of l){if(!e[s])continue;let l=e[s].files.filter(e=>e.endsWith(".css"));i.push(...l)}}return 0===i.length?null:(0,t.jsx)(t.Fragment,{children:i.map(e=>(0,t.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},1536:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return N},dynamic:function(){return p}});var t=s(7437),a=s(2265),i=s(9376),r=s(4603),o=s(9889),n=s(3340),d=s(5863),c=s(3639),m=s(7920),u=s(7648),g=s(3500),h=s(7553),x=s(166);s(5046);let p="force-dynamic",f=(0,x.default)(()=>Promise.all([s.e(5716),s.e(4212),s.e(1062)]).then(s.bind(s,1062)),{ssr:!1,loading:()=>(0,t.jsx)("p",{children:"Loading map..."})}),b=[{label:"Wi-Fi",value:"wifi"},{label:"Swimming Pool",value:"pool"},{label:"Restaurant",value:"restaurant"},{label:"Bar/Lounge",value:"bar"},{label:"Gym/Fitness Center",value:"gym"},{label:"Spa",value:"spa"},{label:"Parking",value:"parking"},{label:"Room Service",value:"room_service"},{label:"Air Conditioning",value:"ac"},{label:"Laundry Service",value:"laundry"},{label:"Business Center",value:"business_center"},{label:"Airport Shuttle",value:"shuttle"}],y=[{label:"Breakfast Included (CP)",value:"cp"},{label:"Breakfast & Dinner (MAP)",value:"map"},{label:"All Meals (AP)",value:"ap"},{label:"Room Only (EP)",value:"ep"},{label:"All Inclusive (AI)",value:"ai"}],_=e=>{let{text:l="Loading..."}=e;return(0,t.jsxs)("div",{className:"flex justify-center items-center py-10",children:[(0,t.jsx)(d.Z,{className:"h-6 w-6 animate-spin text-blue-600 mr-2"}),(0,t.jsx)("span",{children:l})]})},v=()=>(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-red-50 border border-red-200 rounded-md text-center",children:[(0,t.jsx)(c.Z,{className:"h-8 w-8 text-red-500 mb-2"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-red-800",children:"Incorrect Vendor Type"}),(0,t.jsx)("p",{className:"text-sm text-red-700 mt-1",children:"Your account is not registered as a Hotel provider. You cannot edit this service type."}),(0,t.jsx)(u.default,{href:"/dashboard",className:"mt-3 text-sm text-blue-600 hover:underline",children:"Go to Dashboard"})]});function j(){var e,l;let s=(0,i.useRouter)(),c=(0,i.useParams)().serviceId,{user:x,isLoading:p,isAuthenticated:j}=(0,r.a)(),[N,w]=(0,a.useState)(null),[k,S]=(0,a.useState)(!1),[F,C]=(0,a.useState)(!1),P=(null==x?void 0:x.id)?"/api/vendors/profile?userId=".concat(x.id):null,{data:A,error:E,status:I}=(0,o.i)(P);null==A||A.verified;let M=(null==A?void 0:A.type)==="hotel",H="success"===I&&A&&M&&!!c,O=H?"/api/vendor/my-hotels/".concat(c):null,{data:L,error:R,status:B}=(0,o.i)(O),{data:T=[],status:D}=(0,o.i)("/api/islands"),q=(0,a.useCallback)((e,l)=>{if(!e||"string"!=typeof e||!e.trim())return[];try{let s=JSON.parse(e);if(Array.isArray(s)&&s.every(e=>"string"==typeof e))return s;if(console.warn("Parsed ".concat(l," data is not an array of strings:"),s),"string"==typeof s&&s.trim())return[s.trim()];if("string"==typeof e&&e.includes(","))return e.split(",").map(e=>e.trim()).filter(Boolean);return[]}catch(s){if(console.error("Failed to parse ".concat(l," JSON:"),e,s),e.includes(","))return e.split(",").map(e=>e.trim()).filter(Boolean);if(e.trim())return[e.trim()];return[]}},[]);if((0,a.useEffect)(()=>{if("success"===B&&L){var e,l,t,a,i,r;let s=q(L.facilities,"facilities"),o=q(L.meal_plans,"meal_plans"),n=[];Array.isArray(L.images)?(n=L.images.every(e=>"string"==typeof e)?L.images:[],console.log("[EditHotelForm] hotel.images is already an array:",L.images)):"string"==typeof L.images?(n=q(L.images,"images"),console.log("[EditHotelForm] Fetched hotel.images string (to be parsed):",L.images)):console.log("[EditHotelForm] hotel.images is neither an array nor a string:",L.images),console.log("[EditHotelForm] Final imagesArray for formData:",n),w({name:L.name||"",description:L.description||"",price:(null===(e=L.price)||void 0===e?void 0:e.toString())||"",cancellation_policy:L.cancellation_policy||"",images:n,island_id:(null===(l=L.island_id)||void 0===l?void 0:l.toString())||"",star_rating:(null===(t=L.star_rating)||void 0===t?void 0:t.toString())||"",check_in_time:L.check_in_time||"14:00",check_out_time:L.check_out_time||"12:00",total_rooms:(null===(a=L.total_rooms)||void 0===a?void 0:a.toString())||"",facilities:s,meal_plans:o,pets_allowed:1===L.pets_allowed,children_allowed:1===L.children_allowed,accessibility_features:L.accessibility_features||"",street_address:L.street_address||"",geo_lat:(null===(i=L.geo_lat)||void 0===i?void 0:i.toString())||"",geo_lng:(null===(r=L.geo_lng)||void 0===r?void 0:r.toString())||""})}else"success"!==B||L?"error"===B&&((0,n.Am)({variant:"destructive",title:"Error Loading Hotel",description:(null==R?void 0:R.message)||"Could not load hotel details."}),s.replace("/my-hotels")):((0,n.Am)({variant:"destructive",title:"Error",description:"Hotel not found."}),s.replace("/my-hotels"))},[B,L,R,s,q]),(0,a.useEffect)(()=>{p||j&&(null==x?void 0:x.role_id)===3||s.replace("/auth/signin?reason=unauthorized_vendor")},[p,j,x,s]),p||"loading"===I||"loading"===D||H&&"loading"===B)return(0,t.jsx)(_,{text:"Loading Edit Hotel Form..."});if("error"===I||"success"===I&&!A)return(0,t.jsx)("div",{className:"text-red-600",children:"Error loading vendor profile or profile not found."});if(!M)return(0,t.jsx)(v,{});if("success"===B&&!L)return(0,t.jsxs)("div",{className:"text-orange-600",children:["Hotel with ID ",c," not found."]});if(!N)return(0,t.jsx)(_,{text:"Preparing form..."});let Z=e=>{let{name:l,value:s,type:t}=e.target;if("checkbox"===t){let{checked:s}=e.target;w(e=>e?{...e,[l]:s}:null)}else w(e=>e?{...e,[l]:s}:null)},U=(e,l)=>{w(s=>s?{...s,[e]:l}:null)},z=async e=>{if(e.preventDefault(),N){if(S(!0),!N.island_id||!N.star_rating||!N.name.trim()||isNaN(parseFloat(N.price))||0>=parseFloat(N.price)||isNaN(parseInt(N.total_rooms,10))||0>=parseInt(N.total_rooms,10)){(0,n.Am)({variant:"destructive",title:"Validation Error",description:"Please fill all required fields (*) with valid data."}),S(!1);return}try{let e={name:N.name,description:N.description,island_id:parseInt(N.island_id,10),star_rating:parseInt(N.star_rating,10),check_in_time:N.check_in_time||"00:00",check_out_time:N.check_out_time||"00:00",price:parseFloat(N.price)||0,total_rooms:parseInt(N.total_rooms,10)||void 0,pets_allowed:N.pets_allowed,children_allowed:N.children_allowed,accessibility_features:N.accessibility_features,street_address:N.street_address||"N/A",geo_lat:N.geo_lat?parseFloat(N.geo_lat):null,geo_lng:N.geo_lng?parseFloat(N.geo_lng):null,cancellation_policy:N.cancellation_policy,images:N.images.length>0?JSON.stringify(N.images):null,facilities:N.facilities,meal_plans:N.meal_plans},l=await fetch("/api/vendor/my-hotels/".concat(c),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await l.json();if(l.ok&&t.success)(0,n.Am)({title:"Success",description:"Hotel updated successfully."}),s.push("/my-hotels");else throw Error(t.message||"Failed to update hotel")}catch(e){console.error("Update Hotel Error:",e),(0,n.Am)({variant:"destructive",title:"Error",description:e.message||"An unexpected error occurred."})}finally{S(!1)}}};return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-4xl mx-auto",children:[(0,t.jsx)("nav",{className:"mb-4 text-sm text-gray-500","aria-label":"Breadcrumb",children:(0,t.jsxs)("ol",{className:"list-none p-0 inline-flex",children:[(0,t.jsxs)("li",{className:"flex items-center",children:[(0,t.jsx)(u.default,{href:"/dashboard",className:"hover:underline",children:"Dashboard"}),(0,t.jsx)("span",{className:"mx-2",children:"/"})]}),(0,t.jsxs)("li",{className:"flex items-center",children:[(0,t.jsx)(u.default,{href:"/my-hotels",className:"hover:underline",children:"Hotels"}),(0,t.jsx)("span",{className:"mx-2",children:"/"})]}),(0,t.jsxs)("li",{className:"flex items-center text-gray-700",children:["Edit: ",N.name||"Hotel"]})]})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-6",children:["Edit Hotel: ",N.name]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)(u.default,{href:"/my-hotels/".concat(c,"/rooms"),className:"inline-flex items-center bg-blue-100 text-blue-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-200",children:[(0,t.jsx)(m.Z,{size:16,className:"mr-2"})," Manage Hotel Rooms"]})}),(0,t.jsxs)("form",{onSubmit:z,className:"space-y-6",children:[(0,t.jsxs)("fieldset",{className:"border p-4 rounded-md shadow-sm",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold px-2",children:"Basic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Hotel Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:N.name,onChange:Z,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"island_id",className:"block text-sm font-medium text-gray-700",children:["Island ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"island_id",name:"island_id",value:N.island_id,onChange:Z,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"-- Select Island --"}),T&&T.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),"error"===D&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Error loading islands."})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"star_rating",className:"block text-sm font-medium text-gray-700",children:["Star Rating ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"star_rating",name:"star_rating",value:N.star_rating,onChange:Z,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"-- Select Rating --"}),(0,t.jsx)("option",{value:"1",children:"1 Star"}),(0,t.jsx)("option",{value:"2",children:"2 Stars"}),(0,t.jsx)("option",{value:"3",children:"3 Stars"}),(0,t.jsx)("option",{value:"4",children:"4 Stars"}),(0,t.jsx)("option",{value:"5",children:"5 Stars"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)("textarea",{id:"description",name:"description",value:N.description,onChange:Z,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:["Base Price per Night (INR) ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"number",id:"price",name:"price",value:N.price,onChange:Z,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., 3500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"total_rooms",className:"block text-sm font-medium text-gray-700",children:["Total Rooms ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"number",id:"total_rooms",name:"total_rooms",value:N.total_rooms,onChange:Z,required:!0,min:"1",step:"1",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., 25"})]})]})]}),(0,t.jsxs)("fieldset",{className:"border p-4 rounded-md shadow-sm",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold px-2",children:"Details & Policies"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"check_in_time",className:"block text-sm font-medium text-gray-700",children:"Check-in Time"}),(0,t.jsx)("input",{type:"time",id:"check_in_time",name:"check_in_time",value:N.check_in_time,onChange:Z,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"check_out_time",className:"block text-sm font-medium text-gray-700",children:"Check-out Time"}),(0,t.jsx)("input",{type:"time",id:"check_out_time",name:"check_out_time",value:N.check_out_time,onChange:Z,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"cancellation_policy",className:"block text-sm font-medium text-gray-700",children:"Cancellation Policy"}),(0,t.jsx)("textarea",{id:"cancellation_policy",name:"cancellation_policy",value:N.cancellation_policy,onChange:Z,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Full refund if cancelled 48 hours prior..."})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",id:"pets_allowed",name:"pets_allowed",checked:null!==(e=null==N?void 0:N.pets_allowed)&&void 0!==e&&e,onChange:Z,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,t.jsx)("label",{htmlFor:"pets_allowed",className:"ml-2 block text-sm text-gray-900",children:"Pets Allowed"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",id:"children_allowed",name:"children_allowed",checked:null!==(l=null==N?void 0:N.children_allowed)&&void 0!==l&&l,onChange:Z,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,t.jsx)("label",{htmlFor:"children_allowed",className:"ml-2 block text-sm text-gray-900",children:"Children Allowed"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"accessibility_features",className:"block text-sm font-medium text-gray-700",children:"Accessibility Features"}),(0,t.jsx)("textarea",{id:"accessibility_features",name:"accessibility_features",value:N.accessibility_features,onChange:Z,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Wheelchair accessible rooms, Ramps..."})]})]})]}),(0,t.jsxs)("fieldset",{className:"border p-4 rounded-md shadow-sm",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold px-2",children:"Facilities & Meal Plans"}),(0,t.jsxs)("div",{className:"space-y-6 mt-4",children:[(0,t.jsx)(g.c,{label:"Facilities Available",name:"facilities",options:b,selectedValues:N.facilities,onChange:U,helperText:"Select all facilities offered by the hotel."}),(0,t.jsx)(g.c,{label:"Meal Plans Offered",name:"meal_plans",options:y,selectedValues:N.meal_plans,onChange:U,helperText:"Select the types of meal plans available."})]})]}),(0,t.jsxs)("fieldset",{className:"border border-gray-200 p-6 rounded-lg shadow-sm",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold text-gray-700 px-2",children:"Images"}),(0,t.jsx)("div",{className:"mt-4",children:N&&(0,t.jsx)(h.w,{label:"Hotel Images",onImagesUploaded:e=>{N&&w({...N,images:e})},existingImages:N.images,parentId:c,type:"hotel",maxImages:8,helperText:"Upload photos showcasing your hotel (exterior, lobby, common areas)."})})]}),(0,t.jsxs)("fieldset",{className:"border p-4 rounded-md shadow-sm",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold text-gray-700 px-2",children:"Location & Accessibility"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"street_address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),(0,t.jsx)("input",{type:"text",id:"street_address",name:"street_address",value:(null==N?void 0:N.street_address)||"",onChange:Z,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"geo_lat",className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude (from map)"}),(0,t.jsx)("input",{type:"text",id:"geo_lat",name:"geo_lat",value:(null==N?void 0:N.geo_lat)||"",readOnly:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm",placeholder:"Select on map"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"geo_lng",className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude (from map)"}),(0,t.jsx)("input",{type:"text",id:"geo_lng",name:"geo_lng",value:(null==N?void 0:N.geo_lng)||"",readOnly:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm",placeholder:"Select on map"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>C(!F),className:"mt-2 mb-2 text-sm text-indigo-600 hover:text-indigo-800 font-medium",disabled:!N,children:F?"Hide Map":"Select Location on Map"}),F&&N&&(0,t.jsxs)("div",{className:"mt-2 rounded-lg overflow-hidden shadow-sm border border-gray-200",children:[(0,t.jsx)(f,{onLocationChange:(e,l)=>{w(s=>s?{...s,geo_lat:e.toString(),geo_lng:l.toString()}:null)},initialPosition:N.geo_lat&&N.geo_lng?{lat:parseFloat(N.geo_lat),lng:parseFloat(N.geo_lng)}:void 0,mapHeight:"300px"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 p-2 bg-gray-50",children:"Click on the map or drag the marker to set coordinates. Use search for places."})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"accessibility_features",className:"block text-sm font-medium text-gray-700",children:"Accessibility Features"}),(0,t.jsx)("textarea",{id:"accessibility_features",name:"accessibility_features",value:N.accessibility_features,onChange:Z,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Wheelchair accessible rooms, Ramps..."})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,t.jsx)(u.default,{href:"/my-hotels",className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-300",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:k,className:"inline-flex items-center bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{size:16,className:"animate-spin mr-2"})," Saving Changes..."]}):"Save Changes"})]})]})]})}function N(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(_,{text:"Loading Edit Hotel Page..."}),children:(0,t.jsx)(j,{})})}},5046:function(){}},function(e){e.O(0,[5641,1451,9458,2971,2117,1744],function(){return e(e.s=5978)}),_N_E=e.O()}]);