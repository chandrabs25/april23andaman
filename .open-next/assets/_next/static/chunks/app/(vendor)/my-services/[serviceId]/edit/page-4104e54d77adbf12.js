(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2984],{9078:function(e,i,r){Promise.resolve().then(r.bind(r,1863))},1863:function(e,i,r){"use strict";r.r(i),r.d(i,{default:function(){return b},dynamic:function(){return p}});var t=r(7437),s=r(2265),a=r(9376),l=r(4603),n=r(9889),o=r(3340),d=r(5863),c=r(7648),u=r(3500),m=r(7553);let p="force-dynamic",g=[{label:"Wi-Fi",value:"wifi"},{label:"Parking",value:"parking"},{label:"Restroom",value:"restroom"},{label:"First Aid",value:"first_aid"},{label:"Refreshments Available",value:"refreshments"}],x=[{label:"Helmet",value:"helmet"},{label:"Life Jacket",value:"life_jacket"},{label:"Snorkel Gear",value:"snorkel_gear"},{label:"Scuba Gear",value:"scuba_gear"},{label:"Kayak/Paddle",value:"kayak_paddle"},{label:"Hiking Boots",value:"hiking_boots"},{label:"Safety Harness",value:"safety_harness"}],_=[{label:"Monday",value:"Mon"},{label:"Tuesday",value:"Tue"},{label:"Wednesday",value:"Wed"},{label:"Thursday",value:"Thu"},{label:"Friday",value:"Fri"},{label:"Saturday",value:"Sat"},{label:"Sunday",value:"Sun"}],v=e=>{let{text:i="Loading..."}=e;return(0,t.jsxs)("div",{className:"flex justify-center items-center py-10",children:[(0,t.jsx)(d.Z,{className:"h-6 w-6 animate-spin text-blue-600 mr-2"}),(0,t.jsx)("span",{children:i})]})},h=()=>(0,t.jsx)("div",{children:"IncorrectVendorType Placeholder"});function y(){let e=(0,a.useRouter)(),i=(0,a.useParams)().serviceId,{user:r,isLoading:p,isAuthenticated:y}=(0,l.a)(),[b,f]=(0,s.useState)(null),[j,N]=(0,s.useState)(!1),[q,k]=(0,s.useState)(""),w=(null==r?void 0:r.id)?"/api/vendors/profile?userId=".concat(r.id):null,{data:S,error:F,status:C}=(0,n.i)(w);null==S||S.verified;let I=(null==S?void 0:S.type)==="hotel",z="success"===C&&S&&!I&&!!i,A=z?"/api/vendor/my-services/".concat(i):null,{data:T,error:E,status:P}=(0,n.i)(A),{data:R=[],status:O}=(0,n.i)("/api/islands"),D=(e,i)=>{if(!e||"string"!=typeof e||!e.trim())return[];try{let r=JSON.parse(e);if(Array.isArray(r)&&r.every(e=>"string"==typeof e))return r;if(console.warn("Parsed ".concat(i," data is not an array of strings:"),r),"string"==typeof r&&r.trim())return[r.trim()];return[]}catch(r){if(console.error("Failed to parse ".concat(i," JSON:"),e,r),"string"==typeof e&&e.includes(","))return e.split(",").map(e=>e.trim()).filter(Boolean);if("string"==typeof e&&e.trim())return[e.trim()];return[]}};(0,s.useEffect)(()=>{if("success"===P&&T){var i,r,t,s,a,l,n,d,c,u,m,p,g,x,_,v,h,y,b;k(T.type);let e={general:[],specifics:{}};try{"string"==typeof T.amenities&&T.amenities.trim()&&(e=JSON.parse(T.amenities))}catch(e){console.error("Failed to parse amenities JSON:",T.amenities,e)}let o=[],j="";try{if("string"==typeof T.availability&&T.availability.trim()){let e=JSON.parse(T.availability);o=Array.isArray(e.days)?e.days:[],j=e.notes||""}}catch(e){console.error("Failed to parse availability JSON:",T.availability,e),"string"==typeof T.availability&&T.availability.trim()&&(j=T.availability)}let N={name:T.name||"",description:T.description||"",type:T.type||"",island_id:T.island_id?T.island_id.toString():"",price:T.price?T.price.toString():"",availability_days:o,availability_notes:j,images:D("string"==typeof T.images?T.images:JSON.stringify(T.images),"images"),cancellation_policy:T.cancellation_policy||"",rental_unit:"",quantity_available:"",deposit_required:!1,deposit_amount:"",age_license_requirement:!1,age_license_details:"",duration:"",duration_unit:"",group_size_min:"",group_size_max:"",difficulty_level:"",equipment_provided:[],safety_requirements:"",guide_required:!1,general_amenities:e.general||[],vehicle_type:"",capacity_passengers:"",route_details:"",price_per_km:"",price_per_trip:"",driver_included:!0},q=T.type.split("/")[0];"rental"===q?(null===(i=e.specifics)||void 0===i?void 0:i.rental)?(N.rental_unit=e.specifics.rental.unit||"",N.quantity_available=(null===(r=e.specifics.rental.quantity_available)||void 0===r?void 0:r.toString())||"",N.deposit_required=e.specifics.rental.deposit_required||!1,N.deposit_amount=(null===(t=e.specifics.rental.deposit_amount)||void 0===t?void 0:t.toString())||"",N.age_license_requirement=e.specifics.rental.age_license_requirement||!1,N.age_license_details=e.specifics.rental.age_license_details||""):(N.rental_unit=T.rental_unit||"",N.quantity_available=(null===(s=T.quantity_available)||void 0===s?void 0:s.toString())||"",N.deposit_required=!!T.deposit_required,N.deposit_amount=(null===(a=T.deposit_amount)||void 0===a?void 0:a.toString())||"",N.age_license_requirement=!!T.age_license_requirement,N.age_license_details=T.age_license_details||""):"activity"===q?(null===(l=e.specifics)||void 0===l?void 0:l.activity)?(N.duration=(null===(n=e.specifics.activity.duration)||void 0===n?void 0:n.toString())||"",N.duration_unit=e.specifics.activity.duration_unit||"",N.group_size_min=(null===(d=e.specifics.activity.group_size_min)||void 0===d?void 0:d.toString())||"",N.group_size_max=(null===(c=e.specifics.activity.group_size_max)||void 0===c?void 0:c.toString())||"",N.difficulty_level=e.specifics.activity.difficulty_level||"",N.equipment_provided=Array.isArray(e.specifics.activity.equipment_provided)?e.specifics.activity.equipment_provided:[],N.safety_requirements=e.specifics.activity.safety_requirements||"",N.guide_required=e.specifics.activity.guide_required||!1):(N.duration=(null===(u=T.duration)||void 0===u?void 0:u.toString())||"",N.duration_unit=T.duration_unit||"",N.group_size_min=(null===(m=T.group_size_min)||void 0===m?void 0:m.toString())||"",N.group_size_max=(null===(p=T.group_size_max)||void 0===p?void 0:p.toString())||"",N.difficulty_level=T.difficulty_level||"",N.equipment_provided=D("string"==typeof T.equipment_provided?T.equipment_provided:JSON.stringify(T.equipment_provided),"equipment_provided"),N.safety_requirements=T.safety_requirements||"",N.guide_required=!!T.guide_required):"transport"===q&&((null===(g=e.specifics)||void 0===g?void 0:g.transport)?(N.vehicle_type=e.specifics.transport.vehicle_type||"",N.capacity_passengers=(null===(x=e.specifics.transport.capacity_passengers)||void 0===x?void 0:x.toString())||"",N.route_details=e.specifics.transport.route_details||"",N.price_per_km=(null===(_=e.specifics.transport.price_per_km)||void 0===_?void 0:_.toString())||"",N.price_per_trip=(null===(v=e.specifics.transport.price_per_trip)||void 0===v?void 0:v.toString())||"",N.driver_included=e.specifics.transport.driver_included||!0):(N.vehicle_type=T.vehicle_type||"",N.capacity_passengers=(null===(h=T.capacity_passengers)||void 0===h?void 0:h.toString())||"",N.route_details=T.route_details||"",N.price_per_km=(null===(y=T.price_per_km)||void 0===y?void 0:y.toString())||"",N.price_per_trip=(null===(b=T.price_per_trip)||void 0===b?void 0:b.toString())||"",N.driver_included=void 0===T.driver_included||T.driver_included)),f(N)}else"error"===P&&((0,o.Am)({variant:"destructive",title:"Error Loading Service",description:(null==E?void 0:E.message)||"Could not load service details."}),e.replace("/my-services"))},[P,T,E,e]),(0,s.useEffect)(()=>{p||y&&(null==r?void 0:r.role_id)===3||e.replace("/auth/signin?reason=unauthorized_vendor")},[p,y,r,e]);let J=p||"loading"===C||z&&"loading"===P||"loading"===O;if(J)return(0,t.jsx)(v,{text:"Loading Edit Service Form..."});if("error"===C||"success"===C&&!S)return(0,t.jsx)("div",{className:"text-red-600",children:"Error loading vendor profile or profile not found."});if(I)return(0,t.jsx)(h,{});if(z&&"success"===P&&!T)return(0,t.jsxs)("div",{className:"text-red-600",children:["Service not found or could not be loaded.",(0,t.jsx)(c.default,{href:"/my-services",className:"ml-2 text-blue-600 hover:underline",children:"Back to Services"})]});if(z&&"error"===P)return(0,t.jsx)(v,{text:"Error loading service..."});if(!b)return(0,t.jsx)(v,{text:"Processing service details..."});let V=b.type.split("/")[0],M=e=>{let{name:i,value:r,type:t}=e.target;if("checkbox"===t){let{checked:r}=e.target;f(e=>e?{...e,[i]:r}:null)}else f(e=>e?{...e,[i]:r}:null)},B=(e,i)=>{f(r=>r?{...r,[e]:i}:null)},U=async r=>{if(r.preventDefault(),N(!0),!b){(0,o.Am)({variant:"destructive",title:"Error",description:"Form data is not properly initialized."}),N(!1);return}if(!b.name.trim()||!b.type||!b.island_id||isNaN(parseFloat(b.price))||0>=parseFloat(b.price)){(0,o.Am)({variant:"destructive",title:"Validation Error",description:"Please fill all required fields with valid data."}),N(!1);return}let t=b.type.split("/")[0];if("rental"===t&&(!b.rental_unit||isNaN(parseInt(b.quantity_available))||0>=parseInt(b.quantity_available))){(0,o.Am)({variant:"destructive",title:"Validation Error",description:"Please provide valid rental unit and quantity for rentals."}),N(!1);return}if("activity"===t&&(!b.duration_unit||isNaN(parseInt(b.duration))||0>=parseInt(b.duration))){(0,o.Am)({variant:"destructive",title:"Validation Error",description:"Please provide valid duration and unit for activities."}),N(!1);return}if("transport"===t&&(!b.vehicle_type||!b.capacity_passengers)){(0,o.Am)({variant:"destructive",title:"Validation Error",description:"Please provide vehicle type and capacity for transport services."}),N(!1);return}let s={...b,island_id:parseInt(b.island_id,10)||null,price:parseFloat(b.price)||0,availability:JSON.stringify({days:b.availability_days,notes:b.availability_notes}),amenities:JSON.stringify({general:b.general_amenities,specifics:{}}),images:JSON.stringify(b.images)};delete s.availability_days,delete s.availability_notes,delete s.general_amenities,"rental"===t?(s.amenities=JSON.stringify({general:b.general_amenities,specifics:{rental:{unit:b.rental_unit,quantity_available:parseInt(b.quantity_available,10)||null,deposit_required:b.deposit_required,deposit_amount:b.deposit_required&&parseFloat(b.deposit_amount)||null,age_license_requirement:b.age_license_requirement,age_license_details:b.age_license_requirement?b.age_license_details:""}}}),s.rental_unit=b.rental_unit,s.quantity_available=parseInt(b.quantity_available,10)||null,s.deposit_required=b.deposit_required,s.deposit_amount=b.deposit_required&&parseFloat(b.deposit_amount)||null,s.age_license_requirement=b.age_license_requirement,s.age_license_details=b.age_license_requirement?b.age_license_details:""):"activity"===t?(s.amenities=JSON.stringify({general:b.general_amenities,specifics:{activity:{duration:parseInt(b.duration,10)||null,duration_unit:b.duration_unit,group_size_min:parseInt(b.group_size_min,10)||null,group_size_max:parseInt(b.group_size_max,10)||null,difficulty_level:b.difficulty_level,equipment_provided:b.equipment_provided,safety_requirements:b.safety_requirements,guide_required:b.guide_required}}}),s.duration=parseInt(b.duration,10)||null,s.duration_unit=b.duration_unit,s.group_size_min=parseInt(b.group_size_min,10)||null,s.group_size_max=parseInt(b.group_size_max,10)||null,s.difficulty_level=b.difficulty_level,s.equipment_provided=JSON.stringify(b.equipment_provided),s.safety_requirements=b.safety_requirements,s.guide_required=b.guide_required):"transport"===t&&(s.amenities=JSON.stringify({general:b.general_amenities,specifics:{transport:{vehicle_type:b.vehicle_type,capacity_passengers:parseInt(b.capacity_passengers,10)||null,route_details:b.route_details,price_per_km:parseFloat(b.price_per_km)||null,price_per_trip:parseFloat(b.price_per_trip)||null,driver_included:b.driver_included}}}),s.vehicle_type=b.vehicle_type,s.capacity_passengers=parseInt(b.capacity_passengers,10)||null,s.route_details=b.route_details,s.price_per_km=parseFloat(b.price_per_km)||null,s.price_per_trip=parseFloat(b.price_per_trip)||null,s.driver_included=b.driver_included);try{let r=await fetch("/api/vendor/my-services/".concat(i),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),t=await r.json();if(r.ok&&t.success)(0,o.Am)({title:"Success",description:"Service updated successfully."}),e.push("/my-services");else throw Error(t.message||"Failed to update service")}catch(e){console.error("Update Service Error:",e),(0,o.Am)({variant:"destructive",title:"Error",description:e.message||"An unexpected error occurred."})}finally{N(!1)}};return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-4xl mx-auto",children:[(0,t.jsx)("nav",{className:"mb-6 text-sm text-gray-500","aria-label":"Breadcrumb",children:(0,t.jsxs)("ol",{className:"list-none p-0 inline-flex space-x-2",children:[(0,t.jsx)("li",{className:"flex items-center",children:(0,t.jsx)(c.default,{href:"/dashboard",className:"hover:text-indigo-600 hover:underline",children:"Dashboard"})}),(0,t.jsx)("li",{children:(0,t.jsx)("span",{className:"text-gray-400",children:"/"})}),(0,t.jsx)("li",{className:"flex items-center",children:(0,t.jsx)(c.default,{href:"/my-services",className:"hover:text-indigo-600 hover:underline",children:"Services"})}),(0,t.jsx)("li",{children:(0,t.jsx)("span",{className:"text-gray-400",children:"/"})}),(0,t.jsxs)("li",{className:"flex items-center text-gray-700 font-medium",children:["Edit: ",b.name||"Service"]})]})}),(0,t.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:["Edit Service: ",b.name]}),(0,t.jsxs)("form",{onSubmit:U,className:"space-y-8",children:[(0,t.jsxs)("fieldset",{className:"border border-gray-200 p-6 rounded-lg shadow-sm",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold text-gray-700 px-2",children:"Basic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"type",name:"type",value:(null==b?void 0:b.type)||"",onChange:M,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white",children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"-- Select Type --"}),(0,t.jsxs)("optgroup",{label:"Transport",children:[(0,t.jsx)("option",{value:"transport/car",children:"Car Transport"}),(0,t.jsx)("option",{value:"transport/van",children:"Van Transport"}),(0,t.jsx)("option",{value:"transport/bus",children:"Bus Transport"}),(0,t.jsx)("option",{value:"transport/ferry",children:"Ferry Transport"}),(0,t.jsx)("option",{value:"transport/boat",children:"Boat Transport"})]}),(0,t.jsxs)("optgroup",{label:"Rentals",children:[(0,t.jsx)("option",{value:"rental/car",children:"Car Rental"}),(0,t.jsx)("option",{value:"rental/bike",children:"Bike/Scooter Rental"}),(0,t.jsx)("option",{value:"rental/boat",children:"Boat Rental"}),(0,t.jsx)("option",{value:"rental/equipment",children:"Equipment Rental (Surfboard, etc.)"})]}),(0,t.jsxs)("optgroup",{label:"Activities",children:[(0,t.jsx)("option",{value:"activity/tour",children:"Tour (Guided)"}),(0,t.jsx)("option",{value:"activity/watersport",children:"Watersport (Lesson/Rental)"}),(0,t.jsx)("option",{value:"activity/hiking",children:"Hiking/Trekking"}),(0,t.jsx)("option",{value:"activity/cultural",children:"Cultural Experience"}),(0,t.jsx)("option",{value:"activity/diving",children:"Diving/Snorkeling"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"island_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Island ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"island_id",name:"island_id",value:b.island_id,onChange:M,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white",children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"-- Select Island --"}),null==R?void 0:R.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),"error"===O&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Error loading islands."})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:b.name,onChange:M,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Guided Island Tour, Scooter Rental"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{id:"description",name:"description",value:b.description,onChange:M,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Provide details about the service..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:["Price (INR) ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"number",id:"price",name:"price",value:b.price,onChange:M,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., 1500"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Base price. Specify unit (per hour/day) in relevant section below."})]})]})]}),(0,t.jsxs)("fieldset",{className:"border border-gray-200 p-6 rounded-lg shadow-sm",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold text-gray-700 px-2",children:"Availability & Amenities"}),(0,t.jsxs)("div",{className:"space-y-6 mt-4",children:[(0,t.jsx)(u.c,{label:"Available Days",name:"availability_days",options:_,selectedValues:b.availability_days,onChange:B,gridCols:4,helperText:"Select the days this service is typically available."}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"availability_notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Availability Notes"}),(0,t.jsx)("input",{type:"text",id:"availability_notes",name:"availability_notes",value:b.availability_notes,onChange:M,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., 9 AM - 5 PM, Closed on public holidays"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Specify times, seasonal availability, or other notes."})]}),(0,t.jsx)(u.c,{label:"General Amenities",name:"general_amenities",options:g,selectedValues:b.general_amenities,onChange:B,gridCols:3,helperText:"Select amenities available at the location or included with the service."})]})]}),"rental"===V&&(0,t.jsxs)("fieldset",{className:"border border-blue-200 p-6 rounded-lg shadow-sm bg-blue-50",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold text-blue-700 px-2",children:"Rental Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"rental_unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Rental Unit ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"rental_unit",name:"rental_unit",value:b.rental_unit,onChange:M,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white",children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"-- Select Unit --"}),(0,t.jsx)("option",{value:"per hour",children:"Per Hour"}),(0,t.jsx)("option",{value:"per day",children:"Per Day"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"quantity_available",className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity Available ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"number",id:"quantity_available",name:"quantity_available",value:b.quantity_available,onChange:M,required:!0,min:"1",step:"1",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., 10"})]}),(0,t.jsxs)("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[(0,t.jsxs)("div",{className:"flex items-center pt-6",children:[(0,t.jsx)("input",{type:"checkbox",id:"deposit_required",name:"deposit_required",checked:b.deposit_required,onChange:M,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 cursor-pointer"}),(0,t.jsx)("label",{htmlFor:"deposit_required",className:"ml-2 block text-sm text-gray-900 cursor-pointer",children:"Deposit Required?"})]}),b.deposit_required&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"deposit_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Deposit Amount (INR)"}),(0,t.jsx)("input",{type:"number",id:"deposit_amount",name:"deposit_amount",value:b.deposit_amount,onChange:M,min:"0",step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., 500"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[(0,t.jsxs)("div",{className:"flex items-center pt-6",children:[(0,t.jsx)("input",{type:"checkbox",id:"age_license_requirement",name:"age_license_requirement",checked:b.age_license_requirement,onChange:M,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 cursor-pointer"}),(0,t.jsx)("label",{htmlFor:"age_license_requirement",className:"ml-2 block text-sm text-gray-900 cursor-pointer",children:"Age/License Required?"})]}),b.age_license_requirement&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"age_license_details",className:"block text-sm font-medium text-gray-700 mb-1",children:"Requirement Details"}),(0,t.jsx)("input",{type:"text",id:"age_license_details",name:"age_license_details",value:b.age_license_details,onChange:M,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Min age 18, Valid driving license"})]})]})]})]}),"activity"===V&&(0,t.jsxs)("fieldset",{className:"border border-green-200 p-6 rounded-lg shadow-sm bg-green-50",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold text-green-700 px-2",children:"Activity Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsxs)("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-1",children:["Duration ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"number",id:"duration",name:"duration",value:b.duration,onChange:M,required:!0,min:"1",step:"1",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., 3"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"duration_unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"duration_unit",name:"duration_unit",value:b.duration_unit,onChange:M,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white",children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"-- Unit --"}),(0,t.jsx)("option",{value:"hours",children:"Hours"}),(0,t.jsx)("option",{value:"days",children:"Days"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)("label",{htmlFor:"group_size_min",className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Group Size"}),(0,t.jsx)("input",{type:"number",id:"group_size_min",name:"group_size_min",value:b.group_size_min,onChange:M,min:"1",step:"1",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., 2"})]}),(0,t.jsxs)("div",{className:"flex-grow",children:[(0,t.jsx)("label",{htmlFor:"group_size_max",className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Group Size"}),(0,t.jsx)("input",{type:"number",id:"group_size_max",name:"group_size_max",value:b.group_size_max,onChange:M,min:"1",step:"1",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., 10"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"difficulty_level",className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty Level"}),(0,t.jsxs)("select",{id:"difficulty_level",name:"difficulty_level",value:b.difficulty_level,onChange:M,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white",children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"-- Select Level --"}),(0,t.jsx)("option",{value:"easy",children:"Easy"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,t.jsxs)("div",{className:"flex items-center pt-6",children:[(0,t.jsx)("input",{type:"checkbox",id:"guide_required",name:"guide_required",checked:b.guide_required,onChange:M,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 cursor-pointer"}),(0,t.jsx)("label",{htmlFor:"guide_required",className:"ml-2 block text-sm text-gray-900 cursor-pointer",children:"Guide Required/Included"})]}),(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)(u.c,{label:"Equipment Provided",name:"equipment_provided",options:x,selectedValues:b.equipment_provided,onChange:B,gridCols:3,helperText:"Select equipment included in the activity price."})}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"safety_requirements",className:"block text-sm font-medium text-gray-700 mb-1",children:"Safety Requirements"}),(0,t.jsx)("textarea",{id:"safety_requirements",name:"safety_requirements",value:b.safety_requirements,onChange:M,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Must be able to swim, Good physical condition required..."})]})]})]}),(0,t.jsxs)("fieldset",{className:"border border-gray-200 p-6 rounded-lg shadow-sm",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold text-gray-700 px-2",children:"Images"}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(m.w,{label:b.type.startsWith("activity")?"Activity Images":b.type.startsWith("transport")?"Transport Vehicle Images":"Rental Equipment Images",onImagesUploaded:e=>{console.log("Images uploaded for service ID: ".concat(i),e),b&&f({...b,images:e})},existingImages:b.images,parentId:i,type:"service",maxImages:8,helperText:b.type.startsWith("activity")?"Upload photos showcasing your activity (locations, equipment, guests enjoying the activity)":b.type.startsWith("transport")?"Upload photos of your transport vehicles in good condition":"Upload photos of the rental equipment in good condition"})})]}),(0,t.jsxs)("fieldset",{className:"border border-gray-200 p-6 rounded-lg shadow-sm",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold text-gray-700 px-2",children:"Policies"}),(0,t.jsx)("div",{className:"space-y-6 mt-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"cancellation_policy",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cancellation Policy"}),(0,t.jsx)("textarea",{id:"cancellation_policy",name:"cancellation_policy",value:b.cancellation_policy,onChange:M,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Full refund if cancelled 24 hours prior..."})]})})]}),b&&b.type.startsWith("transport/")&&(0,t.jsxs)("fieldset",{className:"border border-indigo-200 p-6 rounded-lg shadow-sm bg-indigo-50",children:[(0,t.jsx)("legend",{className:"text-lg font-semibold text-indigo-700 px-2",children:"Transport Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"vehicle_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vehicle Type ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{id:"vehicle_type",name:"vehicle_type",value:b.vehicle_type,onChange:M,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white",children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"-- Select Vehicle Type --"}),(0,t.jsx)("option",{value:"Sedan",children:"Sedan"}),(0,t.jsx)("option",{value:"SUV",children:"SUV"}),(0,t.jsx)("option",{value:"Minivan",children:"Minivan"}),(0,t.jsx)("option",{value:"Minibus",children:"Minibus"}),(0,t.jsx)("option",{value:"Bus",children:"Bus"}),(0,t.jsx)("option",{value:"Ferry",children:"Ferry"}),(0,t.jsx)("option",{value:"Speedboat",children:"Speedboat"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"capacity_passengers",className:"block text-sm font-medium text-gray-700 mb-1",children:["Passenger Capacity ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"number",id:"capacity_passengers",name:"capacity_passengers",value:b.capacity_passengers,onChange:M,required:!0,min:"1",step:"1",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., 4"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"route_details",className:"block text-sm font-medium text-gray-700 mb-1",children:"Route Details"}),(0,t.jsx)("textarea",{id:"route_details",name:"route_details",value:b.route_details,onChange:M,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., Port Blair to Havelock, Airport to Hotels"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Describe the routes or areas where your service operates."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"price_per_km",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per KM (INR)"}),(0,t.jsx)("input",{type:"number",id:"price_per_km",name:"price_per_km",value:b.price_per_km,onChange:M,min:"0",step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., 15"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"price_per_trip",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per Trip (INR)"}),(0,t.jsx)("input",{type:"number",id:"price_per_trip",name:"price_per_trip",value:b.price_per_trip,onChange:M,min:"0",step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., 2500"})]}),(0,t.jsxs)("div",{className:"flex items-center pt-6",children:[(0,t.jsx)("input",{type:"checkbox",id:"driver_included",name:"driver_included",checked:b.driver_included,onChange:M,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 cursor-pointer"}),(0,t.jsx)("label",{htmlFor:"driver_included",className:"ml-2 block text-sm text-gray-900 cursor-pointer",children:"Driver Included"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,t.jsx)(c.default,{href:"/my-services",className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-300 transition duration-150 ease-in-out",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:j||J,className:"inline-flex items-center bg-indigo-600 text-white px-6 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150 ease-in-out",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{size:16,className:"animate-spin mr-2"})," Saving Changes..."]}):"Save Changes"})]})]})]})}function b(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)(v,{text:"Loading Edit Service Page..."}),children:(0,t.jsx)(y,{})})}}},function(e){e.O(0,[1451,9458,2971,2117,1744],function(){return e(e.s=9078)}),_N_E=e.O()}]);