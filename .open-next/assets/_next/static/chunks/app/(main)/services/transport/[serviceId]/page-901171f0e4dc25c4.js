(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6836],{1082:function(e,s,t){Promise.resolve().then(t.bind(t,5966))},3639:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},8501:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},7662:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},5302:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2451:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},3245:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},5863:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8406:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]])},6595:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5805:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9376:function(e,s,t){"use strict";var r=t(5475);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},5966:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return U}});var r=t(7437);t(2265);var a=t(9376),n=t(7648),c=t(3145),l=t(9889),i=t(5863),o=t(3639),u=t(2451),d=t(3774),m=t(7662),h=t(6595),p=t(3245),x=t(5805),g=t(8406),y=t(9763);let f=(0,y.Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),v=(0,y.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var b=t(5302),j=t(8501);let k="#3B82F6",N="#2563EB",w=()=>(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,r.jsx)(i.Z,{className:"h-12 w-12 animate-spin text-[".concat(k,"] mx-auto mb-4")}),(0,r.jsx)("p",{className:"text-xl font-semibold text-[".concat(N,"]"),children:"Loading Transport Service Details..."}),(0,r.jsx)("p",{className:"text-gray-500",children:"Please wait a moment."})]}),S=e=>{let{message:s}=e;return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,r.jsx)(o.Z,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-red-600",children:"Could Not Load Service"}),(0,r.jsx)("p",{className:"text-gray-500",children:s||"The service details could not be retrieved."}),(0,r.jsxs)(n.default,{href:"/services",className:"mt-6 inline-flex items-center px-6 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[".concat(k,"] hover:bg-[").concat(N,"] transition-colors"),children:[(0,r.jsx)(u.Z,{size:18,className:"mr-2"})," Back to Services"]})]})},R=e=>{let{label:s,value:t,icon:a,className:n,highlight:c}=e;return null==t||""===t?null:(0,r.jsxs)("div",{className:"flex items-start py-2 ".concat(n||""),children:[a&&(0,r.jsx)(a,{size:18,className:"mr-2.5 mt-0.5 flex-shrink-0 ".concat(c?"text-[${transportColorDarker}]":"text-gray-500")}),(0,r.jsxs)("span",{className:"text-sm font-medium ".concat(c?"text-[${transportColorDarker}]":"text-gray-600"," w-36 md:w-48 flex-shrink-0"),children:[s,":"]}),(0,r.jsx)("span",{className:"text-sm text-gray-800 flex-grow break-words",children:t})]})},L=e=>{let{title:s,icon:t,children:a,className:n}=e;return(0,r.jsxs)("div",{className:"py-5 border-b border-gray-200 last:border-b-0 ".concat(n||""),children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-2.5 flex items-center",children:[t&&(0,r.jsx)(t,{size:20,className:"mr-2.5 text-[".concat(N,"]")}),s]}),(0,r.jsx)("div",{className:"space-y-1",children:a})]})};var U=()=>{var e,s;let t=(0,a.useParams)().serviceId,{data:i,error:o,status:y}=(0,l.i)(t?"/api/services-main/".concat(t):null),U="error"===y?o:null,Z=null==i?void 0:i.data;if("loading"===y)return(0,r.jsx)(w,{});if(U||!Z||"transport"!==Z.service_category)return(0,r.jsx)(S,{message:(null==U?void 0:U.message)||(null==i?void 0:i.message)||"Transport service not found or invalid type."});let _=Z.images&&Z.images.length>0?Z.images[0]:"/images/placeholder_transport.jpg",F=(null===(e=Z.images)||void 0===e?void 0:e.slice(1))||[];return(0,r.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm py-3 sticky top-0 z-40",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)(n.default,{href:"/services",className:"inline-flex items-center text-sm text-[".concat(N,"] hover:text-[").concat(k,"] font-medium"),children:[(0,r.jsx)(u.Z,{size:20,className:"mr-1"}),"Back to All Services"]})})}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-1.5",children:Z.name}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center text-xs text-gray-600 gap-x-3 gap-y-1",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(d.Z,{size:14,className:"mr-1 text-[".concat(k,"]")})," ",Z.island_name]}),Z.vehicle_type&&(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(m.Z,{size:14,className:"mr-1 text-[".concat(k,"]")})," ",Z.vehicle_type]}),null!==Z.rating&&(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(h.Z,{size:14,className:"mr-1 text-yellow-400 fill-current"})," ",Z.rating.toFixed(1),"/5.0"]})]}),(null===(s=Z.provider)||void 0===s?void 0:s.business_name)&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Provided by: ",(0,r.jsx)("span",{className:"font-medium",children:Z.provider.business_name})]})]}),(0,r.jsxs)("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsx)("div",{className:"mb-5 rounded-lg overflow-hidden shadow-lg",children:(0,r.jsx)(c.default,{src:_,alt:"Main image for ".concat(Z.name),width:700,height:450,className:"w-full h-auto object-cover aspect-[16/10]",onError:e=>e.currentTarget.src="/images/placeholder_transport.jpg",priority:!0})}),F.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2.5 mb-6",children:F.map((e,s)=>(0,r.jsx)("div",{className:"rounded-md overflow-hidden shadow aspect-square",children:(0,r.jsx)(c.default,{src:e,alt:"".concat(Z.name," gallery image ").concat(s+1),width:150,height:150,className:"w-full h-full object-cover",onError:e=>e.currentTarget.src="/images/placeholder_service_thumb.jpg"})},s))}),(0,r.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-lg",children:[(0,r.jsx)(L,{title:"Service Overview",icon:p.Z,children:(0,r.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:Z.description||"Detailed description not available."})}),(0,r.jsxs)(L,{title:"Transport Details",icon:m.Z,children:[(0,r.jsx)(R,{label:"Vehicle Type",value:Z.vehicle_type,icon:m.Z,highlight:!0}),(0,r.jsx)(R,{label:"Passenger Capacity",value:Z.capacity_passengers?"".concat(Z.capacity_passengers," passengers"):null,icon:x.Z}),(0,r.jsx)(R,{label:"Route / Service Area",value:Z.route_details,icon:g.Z}),(0,r.jsx)(R,{label:"Driver Included",value:Z.driver_included?"Yes":!1===Z.driver_included?"No":"N/A",icon:f})]}),(0,r.jsxs)(L,{title:"Pricing",icon:v,children:[(0,r.jsx)(R,{label:"General Price",value:Z.price_details,highlight:!0}),Z.price_per_km&&(0,r.jsx)(R,{label:"Price per KM",value:"â‚¹".concat(Z.price_per_km.toLocaleString("en-IN"))}),Z.price_per_trip&&(0,r.jsx)(R,{label:"Price per Trip",value:"â‚¹".concat(Z.price_per_trip.toLocaleString("en-IN"))})]}),Z.amenities&&Z.amenities.length>0&&(0,r.jsx)(L,{title:"Features & Amenities",icon:b.Z,children:(0,r.jsx)("ul",{className:"list-disc list-inside text-sm text-gray-700 grid grid-cols-1 sm:grid-cols-2 gap-x-3",children:Z.amenities.map((e,s)=>(0,r.jsx)("li",{children:e},s))})}),(0,r.jsxs)(L,{title:"Availability & Policy",icon:j.Z,className:"border-b-0 pb-0",children:[(0,r.jsx)(R,{label:"Availability",value:Z.availability_summary}),(0,r.jsx)(R,{label:"Cancellation Policy",value:Z.cancellation_policy})]})]})]}),(0,r.jsx)("div",{className:"lg:col-span-1 mt-6 lg:mt-0",children:(0,r.jsxs)("div",{className:"sticky top-20 bg-white p-5 rounded-lg shadow-xl border border-gray-200",children:[(0,r.jsx)("p",{className:"text-xl font-bold text-gray-900 mb-1",children:Z.price_details?Z.price_details:Z.price_numeric?"Approx. â‚¹".concat(Z.price_numeric.toLocaleString("en-IN")):"Contact for Price"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:Z.price_numeric?"(indicative price)":"(may vary based on specific needs)"}),(0,r.jsx)("button",{type:"button",style:{backgroundColor:k,borderColor:N},className:"w-full text-white font-semibold py-2.5 px-4 rounded-md transition-all duration-200 shadow hover:shadow-md hover:opacity-90",onClick:()=>alert("Booking functionality to be implemented!"),children:"Book This Transport"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2.5 text-center",children:"Secure your ride in advance!"})]})})]})]})]})}},9889:function(e,s,t){"use strict";t.d(s,{i:function(){return a},q:function(){return n}});var r=t(2265);function a(e,s){var t;console.log("[useFetch] Hook initialized/re-rendered. URL:",e);let[a,n]=(0,r.useState)({data:null,error:null,status:"idle"}),c=JSON.stringify(s);return(0,r.useEffect)(()=>{console.log("[useFetch] useEffect triggered. URL:",e),(async()=>{if(console.log("[useFetch] fetchData started. URL:",e),!e){console.log("[useFetch] URL is null, setting state to idle/null."),n({data:null,error:null,status:"idle"});return}console.log("[useFetch] Resetting state and setting status to loading."),n({data:null,error:null,status:"loading"});try{let s;let t=JSON.parse(c||"{}");console.log("[useFetch] Attempting fetch. URL:",e,"Options:",t);let r=await fetch(e,{...t,credentials:"include"});console.log("[useFetch] Fetch completed. URL:",e,"Status:",r.status);try{console.log("[useFetch] Attempting response.json(). URL:",e),s=await r.json(),console.log("[useFetch] response.json() successful. URL:",e,"Result:",s)}catch(s){throw console.error("[useFetch] response.json() FAILED. URL:",e,"Error:",s),Error("Request failed with status ".concat(r.status," and non-JSON response."))}if(!r.ok){let t=(null==s?void 0:s.message)||r.statusText||"HTTP error! Status: ".concat(r.status);throw console.warn("[useFetch] Response not OK. Status:",r.status,"URL:",e,"Throwing error:",t),Error(t)}if(console.log("[useFetch] Response OK. Checking result.success. URL:",e),s.success)console.log("[useFetch] result.success is true. URL:",e),void 0!==s.data?(console.log("[useFetch] Setting state data and status=success. URL:",e,"Data:",s.data),n({data:s.data,error:null,status:"success"})):(console.warn("[useFetch] Fetch successful (result.success=true) but result.data is undefined. Setting state data=null, status=success. URL: ".concat(e)),n({data:null,error:null,status:"success"}));else{let t=s.message||"API returned success: false";throw console.warn("[useFetch] result.success is false. URL:",e,"Throwing error:",t),Error(t)}}catch(t){console.error("[useFetch] CATCH block error for URL ".concat(e,":"),t);let s=t instanceof Error?t:Error("Unknown fetch error occurred");console.log("[useFetch] Setting state error and status=error. URL:",e),n({data:null,error:s,status:"error"})}})()},[e,c]),console.log("[useFetch] Returning combined state for URL:",e,{data:a.data,error:null===(t=a.error)||void 0===t?void 0:t.message,status:a.status}),{data:a.data,error:a.error,status:a.status,isLoading:"loading"===a.status}}function n(e){console.log("[useSubmit] Hook initialized/re-rendered. Initial URL:",e);let[s,t]=(0,r.useState)(null),[a,n]=(0,r.useState)(null),[c,l]=(0,r.useState)("idle"),i=async function(s){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",a=arguments.length>2?arguments[2]:void 0,c=a||e;if(console.log("[useSubmit] submit function called. Target URL:",c,"Method:",r),l("loading"),t(null),n(null),!c)return console.error("[useSubmit] No URL provided (initial or override). Aborting submission."),n(Error("No URL specified for submission.")),l("error"),{success:!1,error:"No URL specified for submission."};try{let e;let a={method:r,headers:{"Content-Type":"application/json",Accept:"application/json"},body:"DELETE"!==r?JSON.stringify(s):void 0,credentials:"include"};console.log("[useSubmit] Attempting fetch. URL:",c,"Options:",a);let n=await fetch(c,a);console.log("[useSubmit] Fetch completed. URL:",c,"Status:",n.status);try{console.log("[useSubmit] Attempting response.json(). URL:",c),204===n.status||"0"===n.headers.get("content-length")?(console.log("[useSubmit] Received 204 No Content or empty body. Assuming success."),e={success:!0}):e=await n.json(),console.log("[useSubmit] response.json() successful or handled empty. URL:",c,"Result:",e)}catch(e){throw console.error("[useSubmit] response.json() FAILED. URL:",c,"Error:",e),Error("Request failed with status ".concat(n.status," and non-JSON response."))}if(console.log("[useSubmit] Checking response.ok and result.success. URL:",c),n.ok&&(void 0===e.success||!0===e.success)){if(console.log("[useSubmit] Response OK and result.success is true/undefined. URL:",c),void 0!==e.data)return console.log("[useSubmit] Setting data and status=success. URL:",c,"Data:",e.data),t(e.data),l("success"),{success:!0,data:e.data};return t(null),l("success"),console.warn("[useSubmit] Submit successful (result.success=true/undefined) but result.data is undefined. Setting data=null, status=success. URL: ".concat(c)),{success:!0,data:null}}{let s=e.message||"API Error: Status ".concat(n.status,", Success Flag: ").concat(e.success);throw console.warn("[useSubmit] Response NOT OK or result.success is false. URL:",c,"Throwing error:",s),Error(s)}}catch(s){console.error("[useSubmit] CATCH block error. URL:",c,"Error:",s);let e=s instanceof Error?s.message:"Unknown submit error occurred";return console.log("[useSubmit] Setting error state and status=error. URL:",c),n(Error(e)),l("error"),{success:!1,error:e}}};return console.log("[useSubmit] Returning state. Initial URL:",e,"Status:",c),{submit:i,data:s,error:a,status:c,isLoading:"loading"===c,reset:()=>{console.log("[useSubmit] reset function called."),t(null),n(null),l("idle")}}}}},function(e){e.O(0,[1451,3145,2971,2117,1744],function(){return e(e.s=1082)}),_N_E=e.O()}]);