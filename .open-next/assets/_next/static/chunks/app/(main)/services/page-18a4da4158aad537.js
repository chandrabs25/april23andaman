(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1647],{7159:function(e,s,t){Promise.resolve().then(t.bind(t,1463))},3639:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},6858:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},7662:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},7746:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]])},5863:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3247:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2449:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},6595:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},1463:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return S}});var r=t(7437),a=t(2265),l=t(7648),n=t(3145),o=t(5863),c=t(3639),i=t(7662),u=t(2449),d=t(3774),m=t(7746),h=t(6595),g=t(6858);let x=(0,t(9763).Z)("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var p=t(3247),f=t(9889);let b="#10B981",y="#059669",v=e=>{let{text:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center py-16",children:[(0,r.jsx)(o.Z,{className:"h-10 w-10 animate-spin text-[".concat(b,"] mb-4")}),(0,r.jsx)("span",{className:"text-lg font-medium text-[".concat(y,"]"),children:s})]})},j=e=>{let{message:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center py-16 text-center",children:[(0,r.jsx)(c.Z,{className:"h-10 w-10 text-red-500 mb-4"}),(0,r.jsx)("span",{className:"text-lg font-medium text-red-600",children:"Oops! Something went wrong."}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:s||"Failed to load services."})]})},w=e=>{var s,t;let{service:a,categoryColor:o}=e,c=a.images&&a.images.length>0?a.images[0]:"/images/placeholder_service.jpg",x=a.rating||null,p=a.price_details||(a.price_numeric?"".concat(a.price_numeric.toLocaleString("en-IN")," (approx)"):"Price on request"),f="";return"transport"===a.service_category?f="/services/transport/".concat(a.id):"rental"===a.service_category&&(f="/services/rental/".concat(a.id)),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden flex flex-col transition-all duration-300 hover:shadow-2xl hover:scale-[1.02] border border-gray-200",children:[(0,r.jsxs)("div",{className:"h-48 w-full relative flex-shrink-0",children:[(0,r.jsx)(n.default,{src:c,alt:a.name,fill:!0,className:"object-cover",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",onError:e=>e.currentTarget.src="/images/placeholder_service.jpg"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),(0,r.jsxs)("div",{style:{backgroundColor:o},className:"absolute top-3 right-3 text-white text-xs font-semibold py-1 px-2.5 rounded-full shadow-md flex items-center",children:["transport"===a.service_category?(0,r.jsx)(i.Z,{size:12,className:"mr-1"}):(0,r.jsx)(u.Z,{size:12,className:"mr-1"}),a.type.replace(/^(transport_|rental_)/,"").replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())]})]}),(0,r.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,r.jsx)("h3",{className:"text-md font-semibold leading-tight text-gray-800 line-clamp-2 mb-1",children:a.name}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[(0,r.jsx)(d.Z,{size:12,className:"mr-1 flex-shrink-0",style:{color:o}}),(0,r.jsx)("span",{children:a.island_name}),(null===(s=a.provider)||void 0===s?void 0:s.business_name)&&(0,r.jsx)("span",{className:"mx-1",children:"|"}),(null===(t=a.provider)||void 0===t?void 0:t.business_name)&&(0,r.jsxs)("span",{className:"line-clamp-1",children:["By: ",a.provider.business_name]})]}),(0,r.jsx)("p",{className:"text-gray-600 text-xs mb-3 line-clamp-2 flex-grow",children:a.description||"Reliable service for your travel needs."}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3 text-xs",children:[(0,r.jsxs)("div",{className:"flex items-center font-semibold",style:{color:o},children:[(0,r.jsx)(m.Z,{size:14,className:"mr-0.5"})," ",p]}),null!==x&&(0,r.jsxs)("div",{className:"flex items-center text-yellow-500",children:[(0,r.jsx)(h.Z,{size:14,fill:"currentColor"}),(0,r.jsx)("span",{className:"ml-1 font-medium",children:x.toFixed(1)})]})]}),f&&(0,r.jsxs)(l.default,{href:f,style:{backgroundColor:o,borderColor:o},className:"mt-auto block w-full text-center text-white font-medium py-2 px-4 rounded-lg text-sm transition-opacity hover:opacity-90 shadow-md",children:["View Details ",(0,r.jsx)(g.Z,{size:14,className:"ml-1 inline-block"})]})]})]})};function N(){let[e,s]=(0,a.useState)({search:"",islandId:""}),[t,l]=(0,a.useState)(e);(0,a.useEffect)(()=>{let s=setTimeout(()=>l(e),500);return()=>clearTimeout(s)},[e]);let n=(0,a.useCallback)(()=>{let e=new URLSearchParams;return e.append("category","transport,rental"),t.search&&e.append("search",t.search),t.islandId&&e.append("islandId",t.islandId),"/api/services-main?".concat(e.toString())},[t]),{data:o,error:c,status:d}=(0,f.i)(n()),m=(null==o?void 0:o.data)||[],h="loading"===d,g="error"===d?c:null,N=m.filter(e=>"transport"===e.service_category),S=m.filter(e=>"rental"===e.service_category),k=e=>{s(s=>({...s,[e.target.name]:e.target.value}))},R=(e,s,t,l)=>(0,r.jsxs)("section",{className:"mb-12",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[a.createElement(t,{size:28,className:"mr-3",style:{color:l}}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:e})]}),h&&(0,r.jsx)(v,{text:"Loading ".concat(e.toLowerCase(),"...")}),g&&!h&&(0,r.jsx)(j,{message:"Could not load ".concat(e.toLowerCase(),".")}),!h&&!g&&0===s.length&&(0,r.jsxs)("p",{className:"text-gray-600 text-center py-8",children:["No ",e.toLowerCase()," found matching your criteria."]}),!h&&!g&&s.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:s.map(e=>(0,r.jsx)(w,{service:e,categoryColor:l},"".concat(e.service_category,"-").concat(e.id)))})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{background:"linear-gradient(to right, ".concat("#6EE7B7",", ").concat(b,")")},className:"h-60 md:h-72",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 h-full flex flex-col justify-center items-center text-center",children:[(0,r.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Transport & Rental Services"}),(0,r.jsx)("p",{className:"text-lg sm:text-xl text-white max-w-2xl opacity-90 drop-shadow-md",children:"Find reliable transport and convenient rentals for your Andaman adventure."})]})}),(0,r.jsx)("div",{className:"bg-[".concat("#ECFDF5","] py-10 md:py-16"),children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-5 md:p-6 mb-10 border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(x,{size:20,className:"mr-2",style:{color:y}}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Filter Services"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-end",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"search",className:"block text-xs font-medium text-gray-600 mb-1",children:"Search by Name"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.Z,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)("input",{type:"text",id:"search",name:"search",value:e.search,onChange:k,placeholder:"e.g., Airport Cab, Scooter Rental",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-[".concat(b,"] focus:border-[").concat(b,"] text-sm")})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"islandId",className:"block text-xs font-medium text-gray-600 mb-1",children:"Island"}),(0,r.jsx)("select",{id:"islandId",name:"islandId",value:e.islandId,onChange:k,className:"w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-[".concat(b,"] focus:border-[").concat(b,"] text-sm"),children:[{value:"",label:"All Islands"},{value:"1",label:"Havelock Island (Swaraj Dweep)"},{value:"2",label:"Neil Island (Shaheed Dweep)"},{value:"3",label:"Port Blair"}].map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})]}),R("Transport Services",N,i.Z,"#3B82F6"),R("Rental Services",S,u.Z,"#F59E0B")]})})]})}function S(){return(0,r.jsx)(N,{})}},9889:function(e,s,t){"use strict";t.d(s,{i:function(){return a},q:function(){return l}});var r=t(2265);function a(e,s){var t;console.log("[useFetch] Hook initialized/re-rendered. URL:",e);let[a,l]=(0,r.useState)({data:null,error:null,status:"idle"}),n=JSON.stringify(s);return(0,r.useEffect)(()=>{console.log("[useFetch] useEffect triggered. URL:",e),(async()=>{if(console.log("[useFetch] fetchData started. URL:",e),!e){console.log("[useFetch] URL is null, setting state to idle/null."),l({data:null,error:null,status:"idle"});return}console.log("[useFetch] Resetting state and setting status to loading."),l({data:null,error:null,status:"loading"});try{let s;let t=JSON.parse(n||"{}");console.log("[useFetch] Attempting fetch. URL:",e,"Options:",t);let r=await fetch(e,{...t,credentials:"include"});console.log("[useFetch] Fetch completed. URL:",e,"Status:",r.status);try{console.log("[useFetch] Attempting response.json(). URL:",e),s=await r.json(),console.log("[useFetch] response.json() successful. URL:",e,"Result:",s)}catch(s){throw console.error("[useFetch] response.json() FAILED. URL:",e,"Error:",s),Error("Request failed with status ".concat(r.status," and non-JSON response."))}if(!r.ok){let t=(null==s?void 0:s.message)||r.statusText||"HTTP error! Status: ".concat(r.status);throw console.warn("[useFetch] Response not OK. Status:",r.status,"URL:",e,"Throwing error:",t),Error(t)}if(console.log("[useFetch] Response OK. Checking result.success. URL:",e),s.success)console.log("[useFetch] result.success is true. URL:",e),void 0!==s.data?(console.log("[useFetch] Setting state data and status=success. URL:",e,"Data:",s.data),l({data:s.data,error:null,status:"success"})):(console.warn("[useFetch] Fetch successful (result.success=true) but result.data is undefined. Setting state data=null, status=success. URL: ".concat(e)),l({data:null,error:null,status:"success"}));else{let t=s.message||"API returned success: false";throw console.warn("[useFetch] result.success is false. URL:",e,"Throwing error:",t),Error(t)}}catch(t){console.error("[useFetch] CATCH block error for URL ".concat(e,":"),t);let s=t instanceof Error?t:Error("Unknown fetch error occurred");console.log("[useFetch] Setting state error and status=error. URL:",e),l({data:null,error:s,status:"error"})}})()},[e,n]),console.log("[useFetch] Returning combined state for URL:",e,{data:a.data,error:null===(t=a.error)||void 0===t?void 0:t.message,status:a.status}),{data:a.data,error:a.error,status:a.status,isLoading:"loading"===a.status}}function l(e){console.log("[useSubmit] Hook initialized/re-rendered. Initial URL:",e);let[s,t]=(0,r.useState)(null),[a,l]=(0,r.useState)(null),[n,o]=(0,r.useState)("idle"),c=async function(s){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",a=arguments.length>2?arguments[2]:void 0,n=a||e;if(console.log("[useSubmit] submit function called. Target URL:",n,"Method:",r),o("loading"),t(null),l(null),!n)return console.error("[useSubmit] No URL provided (initial or override). Aborting submission."),l(Error("No URL specified for submission.")),o("error"),{success:!1,error:"No URL specified for submission."};try{let e;let a={method:r,headers:{"Content-Type":"application/json",Accept:"application/json"},body:"DELETE"!==r?JSON.stringify(s):void 0,credentials:"include"};console.log("[useSubmit] Attempting fetch. URL:",n,"Options:",a);let l=await fetch(n,a);console.log("[useSubmit] Fetch completed. URL:",n,"Status:",l.status);try{console.log("[useSubmit] Attempting response.json(). URL:",n),204===l.status||"0"===l.headers.get("content-length")?(console.log("[useSubmit] Received 204 No Content or empty body. Assuming success."),e={success:!0}):e=await l.json(),console.log("[useSubmit] response.json() successful or handled empty. URL:",n,"Result:",e)}catch(e){throw console.error("[useSubmit] response.json() FAILED. URL:",n,"Error:",e),Error("Request failed with status ".concat(l.status," and non-JSON response."))}if(console.log("[useSubmit] Checking response.ok and result.success. URL:",n),l.ok&&(void 0===e.success||!0===e.success)){if(console.log("[useSubmit] Response OK and result.success is true/undefined. URL:",n),void 0!==e.data)return console.log("[useSubmit] Setting data and status=success. URL:",n,"Data:",e.data),t(e.data),o("success"),{success:!0,data:e.data};return t(null),o("success"),console.warn("[useSubmit] Submit successful (result.success=true/undefined) but result.data is undefined. Setting data=null, status=success. URL: ".concat(n)),{success:!0,data:null}}{let s=e.message||"API Error: Status ".concat(l.status,", Success Flag: ").concat(e.success);throw console.warn("[useSubmit] Response NOT OK or result.success is false. URL:",n,"Throwing error:",s),Error(s)}}catch(s){console.error("[useSubmit] CATCH block error. URL:",n,"Error:",s);let e=s instanceof Error?s.message:"Unknown submit error occurred";return console.log("[useSubmit] Setting error state and status=error. URL:",n),l(Error(e)),o("error"),{success:!1,error:e}}};return console.log("[useSubmit] Returning state. Initial URL:",e,"Status:",n),{submit:c,data:s,error:a,status:n,isLoading:"loading"===n,reset:()=>{console.log("[useSubmit] reset function called."),t(null),l(null),o("idle")}}}}},function(e){e.O(0,[1451,3145,2971,2117,1744],function(){return e(e.s=7159)}),_N_E=e.O()}]);