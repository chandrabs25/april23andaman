(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9001],{7250:function(e,t,s){Promise.resolve().then(s.bind(s,1700))},3639:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},8501:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},5302:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2451:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7746:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]])},3245:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},5863:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4286:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},2449:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},2720:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},1700:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return _}});var r=s(7437);s(2265);var n=s(9376),a=s(7648),c=s(3145),l=s(9889),o=s(5863),i=s(3639),u=s(2451),d=s(3774),h=s(2449),m=s(6595),p=s(3245),g=s(2720),x=s(1723),f=s(7746);let y=(0,s(9763).Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var b=s(5302),v=s(4286),j=s(8501);let k="#F59E0B",N="#D97706",w=()=>(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,r.jsx)(o.Z,{className:"h-12 w-12 animate-spin text-[".concat(k,"] mx-auto mb-4")}),(0,r.jsx)("p",{className:"text-xl font-semibold text-[".concat(N,"]"),children:"Loading Rental Service Details..."}),(0,r.jsx)("p",{className:"text-gray-500",children:"Please wait a moment."})]}),R=e=>{let{message:t}=e;return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,r.jsx)(i.Z,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-red-600",children:"Could Not Load Service"}),(0,r.jsx)("p",{className:"text-gray-500",children:t||"The service details could not be retrieved."}),(0,r.jsxs)(a.default,{href:"/services",className:"mt-6 inline-flex items-center px-6 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[".concat(k,"] hover:bg-[").concat(N,"] transition-colors"),children:[(0,r.jsx)(u.Z,{size:18,className:"mr-2"})," Back to Services"]})]})},S=e=>{let{label:t,value:s,icon:n,className:a,highlight:c}=e;return null==s||""===s?null:(0,r.jsxs)("div",{className:"flex items-start py-2 ".concat(a||""),children:[n&&(0,r.jsx)(n,{size:18,className:"mr-2.5 mt-0.5 flex-shrink-0 ".concat(c?"text-[".concat(N,"]"):"text-gray-500")}),(0,r.jsxs)("span",{className:"text-sm font-medium ".concat(c?"text-[".concat(N,"]"):"text-gray-600"," w-36 md:w-48 flex-shrink-0"),children:[t,":"]}),(0,r.jsx)("span",{className:"text-sm text-gray-800 flex-grow break-words",children:s})]})},L=e=>{let{title:t,icon:s,children:n,className:a}=e;return(0,r.jsxs)("div",{className:"py-5 border-b border-gray-200 last:border-b-0 ".concat(a||""),children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-2.5 flex items-center",children:[s&&(0,r.jsx)(s,{size:20,className:"mr-2.5 text-[".concat(N,"]")}),t]}),(0,r.jsx)("div",{className:"space-y-1",children:n})]})};var _=()=>{var e,t;let s=(0,n.useParams)().serviceId,{data:o,error:i,status:_}=(0,l.i)(s?"/api/services-main/".concat(s):null),Z="error"===_?i:null,U=null==o?void 0:o.data;if("loading"===_)return(0,r.jsx)(w,{});if(Z||!U||"rental"!==U.service_category)return(0,r.jsx)(R,{message:(null==Z?void 0:Z.message)||(null==o?void 0:o.message)||"Rental service not found or invalid type."});let F=U.images&&U.images.length>0?U.images[0]:"/images/placeholder_rental.jpg",E=(null===(e=U.images)||void 0===e?void 0:e.slice(1))||[];return(0,r.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm py-3 sticky top-0 z-40",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)(a.default,{href:"/services",className:"inline-flex items-center text-sm text-[".concat(N,"] hover:text-[").concat(k,"] font-medium"),children:[(0,r.jsx)(u.Z,{size:20,className:"mr-1"}),"Back to All Services"]})})}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-1.5",children:U.name}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center text-xs text-gray-600 gap-x-3 gap-y-1",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(d.Z,{size:14,className:"mr-1 text-[".concat(k,"]")})," ",U.island_name]}),U.item_type&&(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(h.Z,{size:14,className:"mr-1 text-[".concat(k,"]")})," ",U.item_type]}),null!==U.rating&&(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(m.Z,{size:14,className:"mr-1 text-yellow-400 fill-current"})," ",U.rating.toFixed(1),"/5.0"]})]}),(null===(t=U.provider)||void 0===t?void 0:t.business_name)&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Provided by: ",(0,r.jsx)("span",{className:"font-medium",children:U.provider.business_name})]})]}),(0,r.jsxs)("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsx)("div",{className:"mb-5 rounded-lg overflow-hidden shadow-lg",children:(0,r.jsx)(c.default,{src:F,alt:"Main image for ".concat(U.name),width:700,height:450,className:"w-full h-auto object-cover aspect-[16/10]",onError:e=>e.currentTarget.src="/images/placeholder_rental.jpg",priority:!0})}),E.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2.5 mb-6",children:E.map((e,t)=>(0,r.jsx)("div",{className:"rounded-md overflow-hidden shadow aspect-square",children:(0,r.jsx)(c.default,{src:e,alt:"".concat(U.name," gallery image ").concat(t+1),width:150,height:150,className:"w-full h-full object-cover",onError:e=>e.currentTarget.src="/images/placeholder_service_thumb.jpg"})},t))}),(0,r.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-lg",children:[(0,r.jsx)(L,{title:"Rental Overview",icon:p.Z,children:(0,r.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:U.description||"Detailed description not available."})}),(0,r.jsxs)(L,{title:"Rental Details",icon:h.Z,children:[(0,r.jsx)(S,{label:"Item Type",value:U.item_type,icon:g.Z,highlight:!0}),U.rental_duration_options&&U.rental_duration_options.length>0&&(0,r.jsx)(S,{label:"Duration Options",value:U.rental_duration_options.join(", "),icon:x.Z}),U.pickup_location_options&&U.pickup_location_options.length>0&&(0,r.jsx)(S,{label:"Pickup Locations",value:U.pickup_location_options.join(", "),icon:d.Z})]}),(0,r.jsxs)(L,{title:"Pricing",icon:f.Z,children:[(0,r.jsx)(S,{label:"General Price",value:U.price_details,highlight:!0}),U.price_per_hour&&(0,r.jsx)(S,{label:"Price per Hour",value:"â‚¹".concat(U.price_per_hour.toLocaleString("en-IN"))}),U.price_per_day&&(0,r.jsx)(S,{label:"Price per Day",value:"â‚¹".concat(U.price_per_day.toLocaleString("en-IN"))}),U.deposit_amount&&(0,r.jsx)(S,{label:"Security Deposit",value:"â‚¹".concat(U.deposit_amount.toLocaleString("en-IN")),icon:y})]}),U.amenities&&U.amenities.length>0&&(0,r.jsx)(L,{title:"Features / Included",icon:b.Z,children:(0,r.jsx)("ul",{className:"list-disc list-inside text-sm text-gray-700 grid grid-cols-1 sm:grid-cols-2 gap-x-3",children:U.amenities.map((e,t)=>(0,r.jsx)("li",{children:e},t))})}),U.rental_terms&&(0,r.jsx)(L,{title:"Rental Terms",icon:v.Z,children:(0,r.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:U.rental_terms})}),(0,r.jsxs)(L,{title:"Availability & Policy",icon:j.Z,className:"border-b-0 pb-0",children:[(0,r.jsx)(S,{label:"Availability",value:U.availability_summary}),(0,r.jsx)(S,{label:"Cancellation Policy",value:U.cancellation_policy})]})]})]}),(0,r.jsx)("div",{className:"lg:col-span-1 mt-6 lg:mt-0",children:(0,r.jsxs)("div",{className:"sticky top-20 bg-white p-5 rounded-lg shadow-xl border border-gray-200",children:[(0,r.jsx)("p",{className:"text-xl font-bold text-gray-900 mb-1",children:U.price_details?U.price_details:U.price_numeric?"Approx. â‚¹".concat(U.price_numeric.toLocaleString("en-IN")):"Contact for Price"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:U.price_numeric?"(indicative price)":"(may vary based on specific needs)"}),(0,r.jsx)("button",{type:"button",style:{backgroundColor:k,borderColor:N},className:"w-full text-white font-semibold py-2.5 px-4 rounded-md transition-all duration-200 shadow hover:shadow-md hover:opacity-90",onClick:()=>alert("Booking functionality to be implemented!"),children:"Book This Rental"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2.5 text-center",children:"Check availability and book now!"})]})})]})]})]})}},9889:function(e,t,s){"use strict";s.d(t,{i:function(){return n},q:function(){return a}});var r=s(2265);function n(e,t){let s=(0,r.useRef)(!0);s.current&&(console.log("[useFetch] Hook initialized. URL:",e),s.current=!1);let[n,a]=(0,r.useState)({data:null,error:null,status:"idle"}),c=(0,r.useRef)(e),l=(0,r.useRef)(t);JSON.stringify(l.current)!==JSON.stringify(t)&&(l.current=t);let o=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{if(console.log("[useFetch] useEffect entering. URL:",e,"Initial fetch:",o.current),c.current===e&&null!==e&&!o.current){console.log("[useFetch] useEffect skipped - URL unchanged and not first render");return}o.current=!1,c.current=e,console.log("[useFetch] useEffect triggered. URL:",e),(async()=>{if(console.log("[useFetch] fetchData started. URL:",e),!e){console.log("[useFetch] URL is null, setting state to idle/null."),a({data:null,error:null,status:"idle"});return}console.log("[useFetch] Resetting state and setting status to loading."),a({data:null,error:null,status:"loading"});try{let t;console.log("[useFetch] Attempting fetch to URL:",e);let s=e.startsWith("http")?e:"".concat(window.location.origin).concat(e);console.log("[useFetch] Full URL for fetch:",s);let r=await fetch(s,{...l.current,credentials:"include"});console.log("[useFetch] Fetch completed. URL:",e,"Status:",r.status);try{console.log("[useFetch] Attempting response.json(). URL:",e),t=await r.json(),console.log("[useFetch] response.json() successful. URL:",e)}catch(t){throw console.error("[useFetch] response.json() FAILED. URL:",e,"Error:",t),Error("Request failed with status ".concat(r.status," and non-JSON response."))}if(!r.ok){let s=(null==t?void 0:t.message)||r.statusText||"HTTP error! Status: ".concat(r.status);throw console.warn("[useFetch] Response not OK. Status:",r.status,"URL:",e,"Throwing error:",s),Error(s)}if(console.log("[useFetch] Response OK. Checking result.success. URL:",e),t.success)console.log("[useFetch] result.success is true. URL:",e),void 0!==t.data?(console.log("[useFetch] Setting state data and status=success. URL:",e),a({data:t.data,error:null,status:"success"})):(console.warn("[useFetch] Fetch successful (result.success=true) but result.data is undefined. Setting state data=null, status=success. URL: ".concat(e)),a({data:null,error:null,status:"success"}));else{let s=t.message||"API returned success: false";throw console.warn("[useFetch] result.success is false. URL:",e,"Throwing error:",s),Error(s)}}catch(s){console.error("[useFetch] CATCH block error for URL ".concat(e,":"),s);let t=s instanceof Error?s:Error("Unknown fetch error occurred");console.log("[useFetch] Setting state error and status=error. URL:",e),a({data:null,error:t,status:"error"})}})()},[e]),console.log("[useFetch] Returning state for URL:",e,{status:n.status}),{data:n.data,error:n.error,status:n.status,isLoading:"loading"===n.status}}function a(e){let t=(0,r.useRef)(!0);t.current&&(console.log("[useSubmit] Hook initialized. Initial URL:",e),t.current=!1);let[s,n]=(0,r.useState)(null),[a,c]=(0,r.useState)(null),[l,o]=(0,r.useState)("idle");return{submit:async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",r=arguments.length>2?arguments[2]:void 0,a=r||e;if(console.log("[useSubmit] submit function called. Target URL:",a,"Method:",s),o("loading"),n(null),c(null),!a)return console.error("[useSubmit] No URL provided (initial or override). Aborting submission."),c(Error("No URL specified for submission.")),o("error"),{success:!1,error:"No URL specified for submission."};try{let e;let r={method:s,headers:{"Content-Type":"application/json",Accept:"application/json"},body:"DELETE"!==s?JSON.stringify(t):void 0,credentials:"include"};console.log("[useSubmit] Attempting fetch. URL:",a);let c=await fetch(a,r);console.log("[useSubmit] Fetch completed. URL:",a,"Status:",c.status);try{console.log("[useSubmit] Attempting response.json(). URL:",a),204===c.status||"0"===c.headers.get("content-length")?(console.log("[useSubmit] Received 204 No Content or empty body. Assuming success."),e={success:!0}):e=await c.json(),console.log("[useSubmit] response.json() successful or handled empty. URL:",a)}catch(e){throw console.error("[useSubmit] response.json() FAILED. URL:",a,"Error:",e),Error("Request failed with status ".concat(c.status," and non-JSON response."))}if(console.log("[useSubmit] Checking response.ok and result.success. URL:",a),c.ok&&(void 0===e.success||!0===e.success)){if(console.log("[useSubmit] Response OK and result.success is true/undefined. URL:",a),void 0!==e.data)return console.log("[useSubmit] Setting data and status=success. URL:",a),n(e.data),o("success"),{success:!0,data:e.data};return n(null),o("success"),console.warn("[useSubmit] Submit successful (result.success=true/undefined) but result.data is undefined. Setting data=null, status=success. URL: ".concat(a)),{success:!0,data:null}}{let t=e.message||"API Error: Status ".concat(c.status,", Success Flag: ").concat(e.success);throw console.warn("[useSubmit] Response NOT OK or result.success is false. URL:",a,"Throwing error:",t),Error(t)}}catch(t){console.error("[useSubmit] CATCH block error. URL:",a,"Error:",t);let e=t instanceof Error?t.message:"Unknown submit error occurred";return console.log("[useSubmit] Setting error state and status=error. URL:",a),c(Error(e)),o("error"),{success:!1,error:e}}},data:s,error:a,status:l,isLoading:"loading"===l,reset:()=>{console.log("[useSubmit] reset function called."),n(null),c(null),o("idle")}}}}},function(e){e.O(0,[1451,3145,2971,2117,1744],function(){return e(e.s=7250)}),_N_E=e.O()}]);