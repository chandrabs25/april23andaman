(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{2614:function(e,t,s){Promise.resolve().then(s.bind(s,4221))},3639:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},8501:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},5302:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2451:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7746:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]])},3245:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},5863:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7877:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]])},4286:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5929:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},4221:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return U}});var r=s(7437);s(2265);var a=s(9376),n=s(7648),i=s(3145),l=s(9889),c=s(5863),o=s(3639),u=s(2451),d=s(3774),m=s(1723),h=s(6595),g=s(3245),p=s(9763);let x=(0,p.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);var f=s(7877),y=s(5929),b=s(5302);let v=(0,p.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var j=s(8501),k=s(4286),N=s(7746);let w="#F59E0B",L="#D97706",R=()=>(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,r.jsx)(c.Z,{className:"h-12 w-12 animate-spin text-[".concat(w,"] mx-auto mb-4")}),(0,r.jsx)("p",{className:"text-xl font-semibold text-[".concat(L,"]"),children:"Loading Activity Details..."}),(0,r.jsx)("p",{className:"text-gray-500",children:"Please wait a moment."})]}),S=e=>{let{message:t}=e;return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,r.jsx)(o.Z,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-red-600",children:"Could Not Load Activity"}),(0,r.jsx)("p",{className:"text-gray-500",children:t||"The activity details could not be retrieved. It might be unavailable or the link may be incorrect."}),(0,r.jsxs)(n.default,{href:"/activities",className:"mt-6 inline-flex items-center px-6 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[".concat(w,"] hover:bg-[").concat(L,"] transition-colors"),children:[(0,r.jsx)(u.Z,{size:18,className:"mr-2"})," Back to Activities"]})]})},Z=e=>{let{title:t,icon:s,children:a,className:n}=e;return(0,r.jsxs)("div",{className:"py-6 border-b border-gray-200 ".concat(n||""),children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 flex items-center",children:[s&&(0,r.jsx)(s,{size:22,className:"mr-3 text-[".concat(L,"]")}),t]}),(0,r.jsx)("div",{className:"text-gray-700 leading-relaxed prose prose-sm max-w-none",children:a})]})};var U=()=>{var e,t;let s=(0,a.useParams)().activityId,{data:c,error:o,status:p}=(0,l.i)(s?"/api/activities/".concat(s):null),U="error"===p?o:null,_=null==c?void 0:c.data;if("loading"===p)return(0,r.jsx)(R,{});if(U||!_)return(0,r.jsx)(S,{message:(null==U?void 0:U.message)||(null==c?void 0:c.message)});let M=_.images&&_.images.length>0?_.images[0]:"/images/placeholder_activity_large.jpg",F=(null===(e=_.images)||void 0===e?void 0:e.slice(1))||[];return(0,r.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm py-3 sticky top-0 z-40",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)(n.default,{href:"/activities",className:"inline-flex items-center text-sm text-[".concat(L,"] hover:text-[").concat(w,"] font-medium"),children:[(0,r.jsx)(u.Z,{size:20,className:"mr-1"}),"Back to All Activities"]})})}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:_.name}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center text-sm text-gray-600 gap-x-4 gap-y-1",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(d.Z,{size:16,className:"mr-1.5 text-[".concat(w,"]")})," ",_.island_name]}),_.duration&&(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(m.Z,{size:16,className:"mr-1.5 text-[".concat(w,"]")})," ",_.duration]}),null!==_.rating&&(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(h.Z,{size:16,className:"mr-1 text-yellow-400 fill-current"})," ",_.rating.toFixed(1),"/5.0"]})]}),(null===(t=_.provider)||void 0===t?void 0:t.business_name)&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Offered by: ",(0,r.jsx)("span",{className:"font-medium",children:_.provider.business_name})]})]}),(0,r.jsxs)("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsx)("div",{className:"mb-6 rounded-xl overflow-hidden shadow-lg",children:(0,r.jsx)(i.default,{src:M,alt:"Main image for ".concat(_.name),width:800,height:500,className:"w-full h-auto object-cover aspect-[16/10]",onError:e=>e.currentTarget.src="/images/placeholder_activity_large.jpg",priority:!0})}),F.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mb-8",children:F.map((e,t)=>(0,r.jsx)("div",{className:"rounded-lg overflow-hidden shadow-md aspect-square",children:(0,r.jsx)(i.default,{src:e,alt:"".concat(_.name," gallery image ").concat(t+1),width:200,height:200,className:"w-full h-full object-cover",onError:e=>e.currentTarget.src="/images/placeholder_activity.jpg"})},t))}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,r.jsx)(Z,{title:"About this Activity",icon:g.Z,children:(0,r.jsx)("p",{children:_.description||"Detailed description not available."})}),_.amenities&&_.amenities.length>0&&(0,r.jsx)(Z,{title:"Amenities & Features",icon:x,children:(0,r.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4",children:_.amenities.map((e,t)=>(0,r.jsx)("li",{children:e},t))})}),_.location_details&&(0,r.jsxs)(Z,{title:"Location & Meeting Point",icon:f.Z,children:[(0,r.jsx)("p",{children:_.location_details}),_.latitude&&_.longitude&&(0,r.jsxs)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(_.latitude,",").concat(_.longitude),target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center text-sm text-[".concat(L,"] hover:text-[").concat(w,"] font-medium"),children:["View on Map ",(0,r.jsx)(d.Z,{size:14,className:"ml-1.5"})]})]}),_.what_to_bring&&_.what_to_bring.length>0&&(0,r.jsx)(Z,{title:"What to Bring",icon:y.Z,children:(0,r.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4",children:_.what_to_bring.map((e,t)=>(0,r.jsx)("li",{children:e},t))})}),_.included_services&&_.included_services.length>0&&(0,r.jsx)(Z,{title:"What’s Included",icon:b.Z,children:(0,r.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4",children:_.included_services.map((e,t)=>(0,r.jsx)("li",{children:e},t))})}),_.not_included_services&&_.not_included_services.length>0&&(0,r.jsx)(Z,{title:"What’s Not Included",icon:v,children:(0,r.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4",children:_.not_included_services.map((e,t)=>(0,r.jsx)("li",{children:e},t))})}),_.availability&&(0,r.jsx)(Z,{title:"Availability",icon:j.Z,children:(0,r.jsx)("p",{children:_.availability})}),_.cancellation_policy&&(0,r.jsx)(Z,{title:"Cancellation Policy",icon:k.Z,className:"border-b-0 pb-0",children:(0,r.jsx)("p",{children:_.cancellation_policy})})]})]}),(0,r.jsx)("div",{className:"lg:col-span-1 mt-8 lg:mt-0",children:(0,r.jsxs)("div",{className:"sticky top-20 bg-white p-6 rounded-xl shadow-xl border border-gray-200",children:[(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:[(0,r.jsx)(N.Z,{size:20,className:"inline-block mb-1 mr-0.5"}),_.price.toLocaleString("en-IN"),(0,r.jsx)("span",{className:"text-sm font-normal text-gray-500 ml-1",children:"per person"})]}),(0,r.jsxs)("div",{className:"my-4 space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"activity-date",className:"block text-xs font-medium text-gray-700",children:"Select Date"}),(0,r.jsx)("input",{type:"date",id:"activity-date",name:"activity-date",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-[${primaryColor}] focus:border-[${primaryColor}] sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"activity-guests",className:"block text-xs font-medium text-gray-700",children:"Number of Guests"}),(0,r.jsx)("input",{type:"number",id:"activity-guests",name:"activity-guests",defaultValue:"1",min:"1",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-[${primaryColor}] focus:border-[${primaryColor}] sm:text-sm"})]})]}),(0,r.jsx)("button",{type:"button",className:"w-full bg-gradient-to-r from-[".concat(w,"] to-[").concat(L,"] text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105"),onClick:()=>alert("Booking functionality to be implemented!"),children:"Book This Activity"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"Secure your spot! This activity is popular."})]})})]})]})]})}},9889:function(e,t,s){"use strict";s.d(t,{i:function(){return a},q:function(){return n}});var r=s(2265);function a(e,t){var s;console.log("[useFetch] Hook initialized/re-rendered. URL:",e);let[a,n]=(0,r.useState)({data:null,error:null,status:"idle"}),i=JSON.stringify(t);return(0,r.useEffect)(()=>{console.log("[useFetch] useEffect triggered. URL:",e),(async()=>{if(console.log("[useFetch] fetchData started. URL:",e),!e){console.log("[useFetch] URL is null, setting state to idle/null."),n({data:null,error:null,status:"idle"});return}console.log("[useFetch] Resetting state and setting status to loading."),n({data:null,error:null,status:"loading"});try{let t;let s=JSON.parse(i||"{}");console.log("[useFetch] Attempting fetch. URL:",e,"Options:",s);let r=await fetch(e,{...s,credentials:"include"});console.log("[useFetch] Fetch completed. URL:",e,"Status:",r.status);try{console.log("[useFetch] Attempting response.json(). URL:",e),t=await r.json(),console.log("[useFetch] response.json() successful. URL:",e,"Result:",t)}catch(t){throw console.error("[useFetch] response.json() FAILED. URL:",e,"Error:",t),Error("Request failed with status ".concat(r.status," and non-JSON response."))}if(!r.ok){let s=(null==t?void 0:t.message)||r.statusText||"HTTP error! Status: ".concat(r.status);throw console.warn("[useFetch] Response not OK. Status:",r.status,"URL:",e,"Throwing error:",s),Error(s)}if(console.log("[useFetch] Response OK. Checking result.success. URL:",e),t.success)console.log("[useFetch] result.success is true. URL:",e),void 0!==t.data?(console.log("[useFetch] Setting state data and status=success. URL:",e,"Data:",t.data),n({data:t.data,error:null,status:"success"})):(console.warn("[useFetch] Fetch successful (result.success=true) but result.data is undefined. Setting state data=null, status=success. URL: ".concat(e)),n({data:null,error:null,status:"success"}));else{let s=t.message||"API returned success: false";throw console.warn("[useFetch] result.success is false. URL:",e,"Throwing error:",s),Error(s)}}catch(s){console.error("[useFetch] CATCH block error for URL ".concat(e,":"),s);let t=s instanceof Error?s:Error("Unknown fetch error occurred");console.log("[useFetch] Setting state error and status=error. URL:",e),n({data:null,error:t,status:"error"})}})()},[e,i]),console.log("[useFetch] Returning combined state for URL:",e,{data:a.data,error:null===(s=a.error)||void 0===s?void 0:s.message,status:a.status}),{data:a.data,error:a.error,status:a.status,isLoading:"loading"===a.status}}function n(e){console.log("[useSubmit] Hook initialized/re-rendered. Initial URL:",e);let[t,s]=(0,r.useState)(null),[a,n]=(0,r.useState)(null),[i,l]=(0,r.useState)("idle"),c=async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",a=arguments.length>2?arguments[2]:void 0,i=a||e;if(console.log("[useSubmit] submit function called. Target URL:",i,"Method:",r),l("loading"),s(null),n(null),!i)return console.error("[useSubmit] No URL provided (initial or override). Aborting submission."),n(Error("No URL specified for submission.")),l("error"),{success:!1,error:"No URL specified for submission."};try{let e;let a={method:r,headers:{"Content-Type":"application/json",Accept:"application/json"},body:"DELETE"!==r?JSON.stringify(t):void 0,credentials:"include"};console.log("[useSubmit] Attempting fetch. URL:",i,"Options:",a);let n=await fetch(i,a);console.log("[useSubmit] Fetch completed. URL:",i,"Status:",n.status);try{console.log("[useSubmit] Attempting response.json(). URL:",i),204===n.status||"0"===n.headers.get("content-length")?(console.log("[useSubmit] Received 204 No Content or empty body. Assuming success."),e={success:!0}):e=await n.json(),console.log("[useSubmit] response.json() successful or handled empty. URL:",i,"Result:",e)}catch(e){throw console.error("[useSubmit] response.json() FAILED. URL:",i,"Error:",e),Error("Request failed with status ".concat(n.status," and non-JSON response."))}if(console.log("[useSubmit] Checking response.ok and result.success. URL:",i),n.ok&&(void 0===e.success||!0===e.success)){if(console.log("[useSubmit] Response OK and result.success is true/undefined. URL:",i),void 0!==e.data)return console.log("[useSubmit] Setting data and status=success. URL:",i,"Data:",e.data),s(e.data),l("success"),{success:!0,data:e.data};return s(null),l("success"),console.warn("[useSubmit] Submit successful (result.success=true/undefined) but result.data is undefined. Setting data=null, status=success. URL: ".concat(i)),{success:!0,data:null}}{let t=e.message||"API Error: Status ".concat(n.status,", Success Flag: ").concat(e.success);throw console.warn("[useSubmit] Response NOT OK or result.success is false. URL:",i,"Throwing error:",t),Error(t)}}catch(t){console.error("[useSubmit] CATCH block error. URL:",i,"Error:",t);let e=t instanceof Error?t.message:"Unknown submit error occurred";return console.log("[useSubmit] Setting error state and status=error. URL:",i),n(Error(e)),l("error"),{success:!1,error:e}}};return console.log("[useSubmit] Returning state. Initial URL:",e,"Status:",i),{submit:c,data:t,error:a,status:i,isLoading:"loading"===i,reset:()=>{console.log("[useSubmit] reset function called."),s(null),n(null),l("idle")}}}}},function(e){e.O(0,[1451,3145,2971,2117,1744],function(){return e(e.s=2614)}),_N_E=e.O()}]);