(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{2614:function(e,t,s){Promise.resolve().then(s.bind(s,7535))},3639:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},8501:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},5302:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2451:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3245:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},9934:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]])},5863:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7877:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]])},4286:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5929:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},7806:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9376:function(e,t,s){"use strict";var i=s(5475);s.o(i,"useParams")&&s.d(t,{useParams:function(){return i.useParams}}),s.o(i,"usePathname")&&s.d(t,{usePathname:function(){return i.usePathname}}),s.o(i,"useRouter")&&s.d(t,{useRouter:function(){return i.useRouter}}),s.o(i,"useSearchParams")&&s.d(t,{useSearchParams:function(){return i.useSearchParams}})},7535:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return z}});var i=s(7437);s(2265);var r=s(9376),a=s(7648),n=s(3145),l=s(9889),c=s(5863),o=s(3639),u=s(2451),d=s(3774),m=s(1723),h=s(6595),g=s(9763);let p=(0,g.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var x=s(3245);let y=(0,g.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);var f=s(5805),v=s(7806),j=s(9934);let b=(0,g.Z)("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]);var k=s(7877),N=s(5929),_=s(5302);let w=(0,g.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var S=s(8501),L=s(4286);let R="#F59E0B",Z="#D97706",D=()=>(0,i.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,i.jsx)(c.Z,{className:"h-12 w-12 animate-spin text-[".concat(R,"] mx-auto mb-4")}),(0,i.jsx)("p",{className:"text-xl font-semibold text-[".concat(Z,"]"),children:"Loading Activity Details..."}),(0,i.jsx)("p",{className:"text-gray-500",children:"Please wait a moment."})]}),A=e=>{let{message:t}=e;return(0,i.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,i.jsx)(o.Z,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-xl font-semibold text-red-600",children:"Could Not Load Activity"}),(0,i.jsx)("p",{className:"text-gray-500",children:t||"The activity details could not be retrieved. It might be unavailable or the link may be incorrect."}),(0,i.jsxs)(a.default,{href:"/activities",className:"mt-6 inline-flex items-center px-6 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[".concat(R,"] hover:bg-[").concat(Z,"] transition-colors"),children:[(0,i.jsx)(u.Z,{size:18,className:"mr-2"})," Back to Activities"]})]})},U=e=>{let{title:t,icon:s,children:r,className:a}=e;return(0,i.jsxs)("div",{className:"py-6 border-b border-gray-200 ".concat(a||""),children:[(0,i.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-3 flex items-center",children:[s&&(0,i.jsx)(s,{size:22,className:"mr-3 text-[".concat(Z,"]")}),t]}),(0,i.jsx)("div",{className:"text-gray-700 leading-relaxed prose prose-sm max-w-none",children:r})]})};var z=()=>{var e;let t;let s=(0,r.useParams)().activityId;console.log("\uD83D\uDD0D ActivityDetailPage: Loading activity with ID:",s);let{data:c,error:o,status:g}=(0,l.i)(s?"/api/services-main/".concat(s):null),z="error"===g?o:null;console.log("\uD83D\uDD0D ActivityDetailPage: API Response:",JSON.stringify(c)),console.log("\uD83D\uDD0D ActivityDetailPage: Status:",g),console.log("\uD83D\uDD0D ActivityDetailPage: Error:",z);let M=null;if(c&&("data"in c&&c.data?M=c.data:("name"in c||"type"in c&&c.type)&&(M=c)),console.log("\uD83D\uDD0D ActivityDetailPage: Service Data:",JSON.stringify(M)),M&&("activity"===M.service_category||M.type&&"string"==typeof M.type&&M.type.startsWith("activity"))&&(t=M),console.log("\uD83D\uDD0D ActivityDetailPage: Processed Activity:",t?"Valid":"Invalid or non-activity service"),"loading"===g)return(0,i.jsx)(D,{});if(z||!t)return(0,i.jsx)(A,{message:(null==z?void 0:z.message)||(null==c?void 0:c.message)||"Activity not found or invalid type."});let F=(e=>{if(!e.amenities)return[];if("string"==typeof e.amenities)try{let t=JSON.parse(e.amenities);if(t&&"object"==typeof t&&"general_amenities"in t&&Array.isArray(t.general_amenities))return t.general_amenities;if(Array.isArray(t))return t.map(e=>String(e));return[]}catch(t){return e.amenities.split(",").map(e=>e.trim()).filter(Boolean)}return Array.isArray(e.amenities)?e.amenities.map(e=>String(e)):[]})(t),E=e=>e&&""!==e.trim()&&"null"!==e&&"undefined"!==e?e.startsWith("http")?e:e.startsWith("/")?e:"/images/".concat(e):"/images/placeholder_activity_large.jpg",P=t.images&&t.images.length>0&&t.images[0]?E(t.images[0]):"/images/placeholder_activity_large.jpg",C=t.images&&t.images.length>1?t.images.slice(1).filter(e=>e&&""!==e.trim()&&"null"!==e&&"undefined"!==e).map(e=>E(e)):[],q=t.duration&&t.duration_unit?"".concat(t.duration," ").concat(t.duration_unit):t.duration?"".concat(t.duration," hours"):null;return(0,i.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,i.jsx)("div",{className:"bg-white shadow-sm py-3 sticky top-0 z-40",children:(0,i.jsx)("div",{className:"container mx-auto px-4",children:(0,i.jsxs)(a.default,{href:"/activities",className:"inline-flex items-center text-sm text-[".concat(Z,"] hover:text-[").concat(R,"] font-medium"),children:[(0,i.jsx)(u.Z,{size:20,className:"mr-1"}),"Back to All Activities"]})})}),(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:t.name}),(0,i.jsxs)("div",{className:"flex flex-wrap items-center text-sm text-gray-600 gap-x-4 gap-y-1",children:[(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(d.Z,{size:16,className:"mr-1.5 text-[".concat(R,"]")})," ",t.island_name]}),q&&(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(m.Z,{size:16,className:"mr-1.5 text-[".concat(R,"]")})," ",q]}),null!==t.rating&&(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(h.Z,{size:16,className:"mr-1 text-yellow-400 fill-current"})," ",t.rating.toFixed(1),"/5.0"]}),t.difficulty_level&&(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(p,{size:16,className:"mr-1.5 text-[".concat(R,"]")}),t.difficulty_level.charAt(0).toUpperCase()+t.difficulty_level.slice(1)," Difficulty"]})]}),(null===(e=t.provider)||void 0===e?void 0:e.business_name)&&(0,i.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Offered by: ",(0,i.jsx)("span",{className:"font-medium",children:t.provider.business_name})]})]}),(0,i.jsxs)("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8",children:[(0,i.jsxs)("div",{className:"lg:col-span-2",children:[(0,i.jsx)("div",{className:"mb-6 rounded-xl overflow-hidden shadow-lg relative aspect-[16/10]",children:(0,i.jsx)(n.default,{src:P,alt:"Main image for ".concat(t.name),width:800,height:500,className:"w-full h-full object-cover",onError:e=>{console.log("Main image error, using placeholder"),e.currentTarget.src="/images/placeholder_activity_large.jpg",e.currentTarget.onerror=null},priority:!0,unoptimized:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",loading:"eager"})}),C.length>0&&(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mb-8",children:C.map((e,s)=>(0,i.jsx)("div",{className:"rounded-lg overflow-hidden shadow-md aspect-square relative",children:(0,i.jsx)(n.default,{src:e,alt:"".concat(t.name," gallery image ").concat(s+1),width:200,height:200,className:"object-cover h-full w-full",onError:e=>{console.log("Gallery image error, using placeholder"),e.currentTarget.src="/images/placeholder_activity.jpg",e.currentTarget.onerror=null},unoptimized:!0,sizes:"(max-width: 768px) 50vw, 25vw",loading:"lazy"})},s))}),(0,i.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,i.jsx)(U,{title:"About this Activity",icon:x.Z,children:(0,i.jsx)("p",{children:t.description||"Detailed description not available."})}),(0,i.jsx)(U,{title:"Activity Details",icon:y,children:(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[q&&(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(m.Z,{size:18,className:"mr-2 text-[".concat(R,"] mt-0.5 flex-shrink-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-gray-800",children:"Duration"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:q})]})]}),(t.group_size_min||t.group_size_max)&&(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(f.Z,{size:18,className:"mr-2 text-[".concat(R,"] mt-0.5 flex-shrink-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-gray-800",children:"Group Size"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:t.group_size_min&&t.group_size_max?"".concat(t.group_size_min," to ").concat(t.group_size_max," people"):t.group_size_min?"Minimum ".concat(t.group_size_min," people"):"Maximum ".concat(t.group_size_max," people")})]})]}),t.difficulty_level&&(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(p,{size:18,className:"mr-2 text-[".concat(R,"] mt-0.5 flex-shrink-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-gray-800",children:"Difficulty Level"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:t.difficulty_level.charAt(0).toUpperCase()+t.difficulty_level.slice(1)})]})]}),t.guide_required&&(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(v.Z,{size:18,className:"mr-2 text-[".concat(R,"] mt-0.5 flex-shrink-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-gray-800",children:"Guide"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Professional guide included"})]})]})]})}),t.equipment_provided&&t.equipment_provided.length>0&&(0,i.jsx)(U,{title:"Equipment Provided",icon:j.Z,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4",children:t.equipment_provided.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),t.safety_requirements&&(0,i.jsx)(U,{title:"Safety Requirements",icon:b,children:(0,i.jsx)("p",{children:t.safety_requirements})}),F.length>0&&(0,i.jsx)(U,{title:"Amenities & Features",icon:y,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4",children:F.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),t.location_details&&(0,i.jsxs)(U,{title:"Location & Meeting Point",icon:k.Z,children:[(0,i.jsx)("p",{children:t.location_details||""}),t.latitude&&t.longitude&&(0,i.jsxs)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(t.latitude,",").concat(t.longitude),target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center text-sm text-[".concat(Z,"] hover:text-[").concat(R,"] font-medium"),children:["View on Map ",(0,i.jsx)(d.Z,{size:14,className:"ml-1.5"})]})]}),t.what_to_bring&&Array.isArray(t.what_to_bring)&&t.what_to_bring.length>0&&(0,i.jsx)(U,{title:"What to Bring",icon:N.Z,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4",children:t.what_to_bring.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),t.included_services&&t.included_services.length>0&&(0,i.jsx)(U,{title:"What's Included",icon:_.Z,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4",children:t.included_services.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),t.not_included_services&&t.not_included_services.length>0&&(0,i.jsx)(U,{title:"What's Not Included",icon:w,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4",children:t.not_included_services.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),t.availability_summary&&(0,i.jsx)(U,{title:"Availability",icon:S.Z,children:(0,i.jsx)("p",{children:t.availability_summary})}),t.cancellation_policy&&(0,i.jsx)(U,{title:"Cancellation Policy",icon:L.Z,className:"border-b-0 pb-0",children:(0,i.jsx)("p",{children:t.cancellation_policy})})]})]}),(0,i.jsx)("div",{className:"lg:col-span-1 mt-8 lg:mt-0",children:(0,i.jsxs)("div",{className:"sticky top-20 bg-white p-6 rounded-xl shadow-xl border border-gray-200",children:[(0,i.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:[t.price_details?t.price_details:t.price_numeric?"â‚¹".concat(t.price_numeric.toLocaleString("en-IN")):"Contact for Price",(0,i.jsx)("span",{className:"text-sm font-normal text-gray-500 ml-1",children:"per person"})]}),(0,i.jsxs)("div",{className:"my-4 space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"activity-date",className:"block text-xs font-medium text-gray-700",children:"Select Date"}),(0,i.jsx)("input",{type:"date",id:"activity-date",name:"activity-date",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-[${primaryColor}] focus:border-[${primaryColor}] sm:text-sm"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"activity-guests",className:"block text-xs font-medium text-gray-700",children:"Number of Guests"}),(0,i.jsx)("input",{type:"number",id:"activity-guests",name:"activity-guests",defaultValue:"1",min:"1",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-[${primaryColor}] focus:border-[${primaryColor}] sm:text-sm"})]})]}),(0,i.jsx)("button",{type:"button",className:"w-full bg-gradient-to-r from-[".concat(R,"] to-[").concat(Z,"] text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105"),onClick:()=>alert("Booking functionality to be implemented!"),children:"Book This Activity"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"Secure your spot! This activity is popular."})]})})]})]})]})}},9889:function(e,t,s){"use strict";s.d(t,{i:function(){return r},q:function(){return a}});var i=s(2265);function r(e,t){let s=(0,i.useRef)(!0);s.current&&(console.log("[useFetch] Hook initialized. URL:",e),s.current=!1);let[r,a]=(0,i.useState)({data:null,error:null,status:"idle"}),n=(0,i.useRef)(e),l=(0,i.useRef)(t);JSON.stringify(l.current)!==JSON.stringify(t)&&(l.current=t);let c=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{if(console.log("[useFetch] useEffect entering. URL:",e,"Initial fetch:",c.current),n.current===e&&null!==e&&!c.current){console.log("[useFetch] useEffect skipped - URL unchanged and not first render");return}c.current=!1,n.current=e,console.log("[useFetch] useEffect triggered. URL:",e),(async()=>{if(console.log("[useFetch] fetchData started. URL:",e),!e){console.log("[useFetch] URL is null, setting state to idle/null."),a({data:null,error:null,status:"idle"});return}console.log("[useFetch] Resetting state and setting status to loading."),a({data:null,error:null,status:"loading"});try{let t;console.log("[useFetch] Attempting fetch to URL:",e);let s=e.startsWith("http")?e:"".concat(window.location.origin).concat(e);console.log("[useFetch] Full URL for fetch:",s);let i=await fetch(s,{...l.current,credentials:"include"});console.log("[useFetch] Fetch completed. URL:",e,"Status:",i.status);try{console.log("[useFetch] Attempting response.json(). URL:",e),t=await i.json(),console.log("[useFetch] response.json() successful. URL:",e)}catch(t){throw console.error("[useFetch] response.json() FAILED. URL:",e,"Error:",t),Error("Request failed with status ".concat(i.status," and non-JSON response."))}if(!i.ok){let s=(null==t?void 0:t.message)||i.statusText||"HTTP error! Status: ".concat(i.status);throw console.warn("[useFetch] Response not OK. Status:",i.status,"URL:",e,"Throwing error:",s),Error(s)}if(console.log("[useFetch] Response OK. Checking result.success. URL:",e),t.success)console.log("[useFetch] result.success is true. URL:",e),void 0!==t.data?(console.log("[useFetch] Setting state data and status=success. URL:",e),a({data:t.data,error:null,status:"success"})):(console.warn("[useFetch] Fetch successful (result.success=true) but result.data is undefined. Setting state data=null, status=success. URL: ".concat(e)),a({data:null,error:null,status:"success"}));else{let s=t.message||"API returned success: false";throw console.warn("[useFetch] result.success is false. URL:",e,"Throwing error:",s),Error(s)}}catch(s){console.error("[useFetch] CATCH block error for URL ".concat(e,":"),s);let t=s instanceof Error?s:Error("Unknown fetch error occurred");console.log("[useFetch] Setting state error and status=error. URL:",e),a({data:null,error:t,status:"error"})}})()},[e]),console.log("[useFetch] Returning state for URL:",e,{status:r.status}),{data:r.data,error:r.error,status:r.status,isLoading:"loading"===r.status}}function a(e){let t=(0,i.useRef)(!0);t.current&&(console.log("[useSubmit] Hook initialized. Initial URL:",e),t.current=!1);let[s,r]=(0,i.useState)(null),[a,n]=(0,i.useState)(null),[l,c]=(0,i.useState)("idle");return{submit:async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",i=arguments.length>2?arguments[2]:void 0,a=i||e;if(console.log("[useSubmit] submit function called. Target URL:",a,"Method:",s),c("loading"),r(null),n(null),!a)return console.error("[useSubmit] No URL provided (initial or override). Aborting submission."),n(Error("No URL specified for submission.")),c("error"),{success:!1,error:"No URL specified for submission."};try{let e;let i={method:s,headers:{"Content-Type":"application/json",Accept:"application/json"},body:"DELETE"!==s?JSON.stringify(t):void 0,credentials:"include"};console.log("[useSubmit] Attempting fetch. URL:",a);let n=await fetch(a,i);console.log("[useSubmit] Fetch completed. URL:",a,"Status:",n.status);try{console.log("[useSubmit] Attempting response.json(). URL:",a),204===n.status||"0"===n.headers.get("content-length")?(console.log("[useSubmit] Received 204 No Content or empty body. Assuming success."),e={success:!0}):e=await n.json(),console.log("[useSubmit] response.json() successful or handled empty. URL:",a)}catch(e){throw console.error("[useSubmit] response.json() FAILED. URL:",a,"Error:",e),Error("Request failed with status ".concat(n.status," and non-JSON response."))}if(console.log("[useSubmit] Checking response.ok and result.success. URL:",a),n.ok&&(void 0===e.success||!0===e.success)){if(console.log("[useSubmit] Response OK and result.success is true/undefined. URL:",a),void 0!==e.data)return console.log("[useSubmit] Setting data and status=success. URL:",a),r(e.data),c("success"),{success:!0,data:e.data};return r(null),c("success"),console.warn("[useSubmit] Submit successful (result.success=true/undefined) but result.data is undefined. Setting data=null, status=success. URL: ".concat(a)),{success:!0,data:null}}{let t=e.message||"API Error: Status ".concat(n.status,", Success Flag: ").concat(e.success);throw console.warn("[useSubmit] Response NOT OK or result.success is false. URL:",a,"Throwing error:",t),Error(t)}}catch(t){console.error("[useSubmit] CATCH block error. URL:",a,"Error:",t);let e=t instanceof Error?t.message:"Unknown submit error occurred";return console.log("[useSubmit] Setting error state and status=error. URL:",a),n(Error(e)),c("error"),{success:!1,error:e}}},data:s,error:a,status:l,isLoading:"loading"===l,reset:()=>{console.log("[useSubmit] reset function called."),r(null),n(null),c("idle")}}}}},function(e){e.O(0,[1451,3145,2971,2117,1744],function(){return e(e.s=2614)}),_N_E=e.O()}]);